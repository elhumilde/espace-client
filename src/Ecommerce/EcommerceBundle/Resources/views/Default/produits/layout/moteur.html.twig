
<link rel="stylesheet" href="{{ asset('css/style-budgetisation-referencement.css') }}" />
<script src="http://code.jquery.com/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.min.js"> </script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"> </script>
<link rel="stylesheet" href="{{ asset('css/style-budgetisation-referencement.css') }}" />
<div class="icon-retour">
    <a style="color: #2eb2ff;" href="http://www.e-contact.telecontact.ma/#fond-8">&lt; Retour  ( chemins des onglets parcourus )</a></br>
    <a style="color: #2eb2ff; " href="{{ path('referencement_clear_session') }}">< Nouveau client</a>
</div>
<section  id="fond-1" align=center>

    <div class="container">

        <div class="row">

            <div class="col-md-12 col-sm-12 col-xs-12" align=center>
                <div class="titre-1">
                    <p>Budgétisation</p>
                </div>
                <div class="titre-2">
                    <p class="acroche"><span style="color: #ffdb2e"><strong>Optimisez</strong></span> votre présence sur les moteurs de recherche
                        <br>
                        et sur telecontact.ma
                    </p>
                </div>
                <div class="form-inline" >


                </div>
            </div>
        </div>

    </div>



</section>
<section  id="fond-2" >
    <div class="container">

    <form id="jsForm" class="form-group" action="" method="GET">
        <div class="container" {#style="width: 1500px!important; "#}>





            <div class="row">
                <section id="fond-4">

                    <div class="container" align="center">

                        <div class="row">

                            <div {#style="width: 1356px"#}>


                                <div class="form-group " align="center">
                                    <div class="form-group ">
                                        <div class="btn-1 menu" style="background-color: black; width: 318px">
                                            <a href="{{ path('referencement_mptei') }}" style="color: white">
                                                <img class="icone" src="https://image.noelshack.com/fichiers/2018/13/5/1522417107-icone-3-inverse.png" alt="icone-3">  Référencement
                                            </a>
                                        </div>
                                    </div>
                                </div>



                                <div class="form-group">
                                    <div class="btn-1 menu" style="width: 330px!important;">
                                        <a href="{{ path('budget_gestion_contenu') }}" id="ajax_test_referencement" style="width: 319px!important;color: black">
                                            <img class="icone" src="http://www.telecontact.ma/trouver/images_econtact/Icona-2.png" alt="icone-3">
                                            Gestion de Contenu   <span class="glyphicon glyphicon-triangle-right"></span>
                                        </a>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="btn-1 menu" style="width: 318px;">
                                        <a href="{{ path('budget_affichage') }}" id="ajax_test_referencement" style="color: black">
                                            <img class="icone" src="http://www.telecontact.ma/trouver/images_econtact/Icone-1.png" alt="icone-3">
                                            Affichage   <span class="glyphicon glyphicon-triangle-right"></span>
                                        </a>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>

                </section>
                <div class="activites" style="margin-left: 68px!important;">
                    <div class="btn-2" align="center">
                        <p >Mes activités</p>
                    </div>
                    <div class="form-group" style="margin-top: 36px">
                        <label for="exampleInputAmount">Rubriques</label>
                        <div class="input-group ">
                            <input type="number" class="form-control exampleInputAmount rubrique mySelect"   {% if referencement['rubrique'] %} value="{{  referencement['rubrique']}}" {% else %} value="0"{% endif %}  placeholder="Nbre" name="num1" id="num1" min="0" max="5" style="width:194px;" >
                        </div>
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="exampleInputAmount">Prestations</label>
                        <div class="input-group">
                            <input type="number" class="form-control exampleInputAmount" {% if referencement['prest'] %} value="{{  referencement['prest']}}" {% else %} value="0"{% endif %}   placeholder="Nbre" name="sum" id="sum" readonly>
                        </div>
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="exampleInputAmount"> Prestations suppl</label>
                        <div class="input-group">

                            <input type="number" class="form-control exampleInputAmount pres_marq" {% if referencement['prest_sup'] %} value="{{  referencement['prest_sup']}}" {% else %} value="0"{% endif %}  placeholder="Nbre" name="num2" id="num2" min="0">
                        </div>
                    </div>
                    <tr><td><input type="number" name="sum2" id="sum2" class="pres_marq" style="display:none;" /></td></tr>
                    <br>
                    <div class="form-group">
                        <label for="exampleInputAmount"> Marque</label>
                        <div class="input-group">
                            <input type="number" class="form-control exampleInputAmount pres_marq positionnement"  {% if referencement['marque'] %} value="{{  referencement['marque']}}" {% else %} value="0"{% endif %} placeholder="Nbre" name="num3" id="num3" min="0">
                        </div>
                    </div>
                    <td><input type="number"  id="sum3" name="sum3"  class="pres_marq" {% if referencement['sum3'] %} value="{{  referencement['sum3']}}" {% else %} value="0"{% endif %}  style="display:none;" /></td>
                    <td> <input type="number" id="mari" name="mari"  {% if referencement['mari'] %} value="{{  referencement['mari']}}" {% else %} value="0"{% endif %}   style="display: none" ></td>
                    <td> <input type="number" id="marque_pack" name="marque_pack" {% if referencement['marque_pack'] %} value="{{  referencement['marque_pack']}}" {% else %} value="0"{% endif %}  style="display: none" ></td>
                    <td> <input type="number" id="resulta" name="resulta" {% if referencement['resulta'] %} value="{{  referencement['resulta']}}" {% else %} value="0"{% endif %}    style="display: none"></td>
                    <td> <input type="number" id="resulta2" name="resulta2"  {% if referencement['resulta2'] %} value="{{  referencement['resulta2']}}" {% else %} value="0"{% endif %} style="display: none" ></td>

                    <td> <input type="number" id="rubd"  name="rubd"     {% if referencement['rubd'] %} value="{{  referencement['rubd']}}" {% else %} value="0"{% endif %} style="display: none"></td>
                    <td><input type="number" id="rania" name="rania"    {% if referencement['rania'] %} value="{{  referencement['rania']}}" {% else %} value="0"{% endif %} style="display: none"></td>
                    <td><input type="number" id="raniad" name="raniad"  {% if referencement['raniad'] %} value="{{  referencement['raniad']}}" {% else %} value="0"{% endif %} style="display: none"></td><br>
                    <div class="row" style="display:none;">
                        <div class="col-md-4">
                        <div class="form-inline">
                            <div class="form-group">
                                <label id="from-label">Package</label> <br><br>
                                <div>
                                    <label class=" btn btn-default" style="background-color: #fff!important;border-color: #ccc;color: black!important;width:30%!important;margin:0;">
                                        <input  class="package" type="radio" name="package" id="package_yes" value="oui" {% if desrubref['package']  !=null %}{% if desrubref['package']=='oui' %}checked {% endif %}{% endif %}>Oui
                                    </label>
                                    <label class=" btn btn-default" style="background-color: #fff!important;border-color: #ccc;color: black!important;width:30%!important;margin:0;">
                                        <input class="package" type="radio" name="package" id="package_non" value="non" {% if desrubref['package']  !=null %}{% if desrubref['package']=='non' %} checked {% endif %} {% else %}  checked{% endif %}>Non&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </label>
                                </div>
                            </div>
                            &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <div class="form-group test">

                            </div><br>
                        </div>
                        </div>
                    </div>


                </div>

            </div>
            <div style="margin-left: 41px;">

                <button class="plus_details"  id="rubrique" type="button" data-toggle="collapse" style="display: inline-block;" data-target="#demo-10">
                    Plus de détails
                </button>
                <br><br>

                <div id="demo-10" class="collapse">
                    <input type="number" id="r_count" ><input type="number" id="p_count" >
                    <p class="p_details_tub" >Vous avez choisi d'être référencé sur <input id="nbr_rubrique" type="text"  readonly/>rubrique avec  prestations <input id="nbr_prestattion" type="text"  readonly/><br> Veuillez séléctionner les rubrique et prestations rattachées</p>
                    <div id="contenu_lists">

                        <form id="rub_prest"  action="" method="GET">



                            <div id="select_rub_prest" >
                                <div class="row">

                                    <div class="col-md-4">


                                        <div  class="form-group" >
                                            <div class="dropdown">
                                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_rub">Sélectionner la rubrique principale</span><span id="rubrique_view"></span>

                                                    <span class="caret"></span></button>
                                                <ul class=" dropdown-menu r mySelect ul_rub" id="select-rubrique"  >
                                                    <input type="text" id="myInput" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                                    {# <span id="searchclear" class="glyphicon glyphicon-remove-circle"></span>#}
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                                    <table id="myTable">
                                                        <tbody >

                                                        {% for rubriqu in rubriques %}
                                                            <tr>
                                                                <td >
                                                                    <label><input class="select_rub checkbox_rub chnage_color r first" id="check" name="check" type="checkbox"  {% if desrubref['rub1']%} {% if rubriqu.id==desrubref['rub1'] %} checked {% endif %}{% endif %} value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </ul>
                                            </div>
                                        </div>

                                        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                        </div>
                                    </div>



                                    <div class="col-md-4" id="no_package" >
                                        <div  class="form-group" >
                                            <div class="dropdown">


                                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_ville_principe">   Ville de parution &nbsp; </span><span id="ville_principe_view"></span>
                                                </button>


                                                <ul class=" dropdown-menu mySelect ul_rub ville" id="select-rubrique" >

                                                    <input type="text" id="myInput_ville_first" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                                    <table id="myTable_ville">
                                                        <tbody >

                                                        <tr>
                                                            <td>
                                                                <label >
                                                                    <input id="villes" class="arms select_rub  chnage_color  ville_first" type="checkbox"  name="villes"  {% if desrubref['villes1']  %} {% if desrubref['villes1']=="91010" %} checked {% endif %}{% endif %} value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes" class="arms select_rub   chnage_color ville_first" type="checkbox" name="villes"  {% if desrubref['villes1']  %} {% if desrubref['villes1']=="101010" %} checked {% endif %}{% endif %} value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes"  {% if desrubref['villes1']  %} {% if desrubref['villes1']=="141010" %} checked {% endif %}{% endif %} value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes"  {% if desrubref['villes1']  %} {% if desrubref['villes1']=="41110" %} checked {% endif %}{% endif %} value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes"  {% if desrubref['villes1']  %} {% if desrubref['villes1']=="163010" %} checked {% endif %}{% endif %} value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes"  {% if desrubref['villes1']  %} {% if desrubref['villes1']=="71010" %} checked {% endif %}{% endif %} value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        {% for ville in villes %}
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                        <input id="villes" class=" arms select_rub chnage_color ville_first" type="checkbox" name="villes" {% if desrubref['villes1']  %} {% if ville.codeville==desrubref['villes1']  %} checked {% endif %}{% endif %}  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                                    </label><br>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>



                                                </ul>


                                            </div>
                                        </div>




                                    </div>
                                    <div class="col-md-4" id="no_package2" >


                                        <button type="button" id="dropdownMenu2"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-2">
                                            &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                            <span id="select_ville_principe_supp">parution supplémentaire  </span><span id="ville_principe_view_supp"></span>
                                        </button>
                                        <div id="demo-2-2" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                            <input type="text" id="myInput_ville_panier" class="form-control" placeholder="search" >
                                            <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                            <div class="form-inline" id="dropdownMenu2" >
                                                <table id="myTable_ville_panier">
                                                    <tbody >

                                                    <tr>
                                                        <td id="ca"  {% if desrubref['package_value']  !=0 %}{% if desrubref['package_value']==8450 %}  style="display:yes;" {% else %} style="display:none; " {% endif %}{% endif %}  {% if desrubref['package_value']  ==0 %}style="display:none; " {% endif %}>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" >
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox"  name="villes_panier[]"   {% if desrubref['package_value']  %}{% if desrubref['package_value']=='8450' %} checked {% endif %}{% endif %} value="8450|limitrophe (Grand casblanca)"> limitrophe (Grand casblanca)
                                                            </label>

                                                            <br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td id="ra" {% if desrubref['package_value']  !=0 %}{% if desrubref['package_value']==6100 %}  style="display:yes;" {% else %} style="display:none; " {% endif %}{% endif %}  {% if desrubref['package_value']  ==0 %}style="display:none; " {% endif %}>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" >
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox"  name="villes_panier[]"  {% if desrubref['package_value']  %}{% if desrubref['package_value']=='6100' %} checked {% endif %}{% endif %}  value="6100|limitrophe (Grand rabat)"> limitrophe (Grand rabat)
                                                            </label>

                                                            <br>
                                                        </td>
                                                    </tr>
                                                    <tr>

                                                        <td id="ta" {% if desrubref['package_value']  !=0 %}{% if desrubref['package_value']==5600 %}  style="display:yes;" {% else %} style="display:none; " {% endif %}{% endif %}  {% if desrubref['package_value']  ==0 %}style="display:none; " {% endif %}>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" >
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox"  name="villes_panier[]"  {% if desrubref['package_value']  %}{% if desrubref['package_value']=='5600' %} checked {% endif %}{% endif %}  value="5600|limitrophe (Grand tanger)"> limitrophe (Grand tanger)
                                                            </label>

                                                            <br>
                                                        </td>

                                                    </tr>
                                                    <tr>

                                                        <td  id="te"  {% if desrubref['package_value']  !=0 %}{% if desrubref['package_value']==4500 %}  style="display:yes;" {% else %} style="display:none; " {% endif %}{% endif %}  {% if desrubref['package_value']  ==0 %}style="display:none; " {% endif %}>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" >
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox"  name="villes_panier[]"  {% if desrubref['package_value']  %}{% if desrubref['package_value']=='4500' %} checked {% endif %}{% endif %}  value="4500|limitrophe (Grand tetouan)"> limitrophe (Grand tetouan)
                                                            </label>

                                                            <br>
                                                        </td>

                                                    </tr>
                                                    <tr>

                                                        <td id="ag"   {% if desrubref['package_value']  !=0 %}{% if desrubref['package_value']==5800 %}  style="display:yes;" {% else %} style="display:none; " {% endif %}{% endif %}  {% if desrubref['package_value']  ==0 %}style="display:none; " {% endif %}>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" >
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox"  name="villes_panier[]"   {% if desrubref['package_value']  %}{% if desrubref['package_value']=='5800' %} checked {% endif %}{% endif %} value="5800|limitrophe (Grand agadir)"> limitrophe (Grand agadir)
                                                            </label>

                                                            <br>
                                                        </td>

                                                    </tr>


                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox"  name="villes_panier[]"  {# {% if desrubref['villes_panier1']  %} {% if  "Casablanca" In desrubref['villes_panier1'] %} checked {% endif %}{% endif %} #}
                                                                        {% for ville in desrubref['villes_panier1'] %}
                                                                            {% if ville == "91010" %} checked {% endif %}
                                                                        {% endfor %}
                                                                       value="91010|Casablanca|1">Casablanca
                                                            </label><br>
                                                        </td>
                                                    </tr>



                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]"   {% for ville in desrubref['villes_panier1'] %}
                                                                    {% if ville == "101010" %} checked {% endif %}
                                                                {% endfor %} value="101010|Rabat|2">Rabat
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]"
                                                                        {% for ville in desrubref['villes_panier1'] %}
                                                                            {% if ville == "141010" %} checked {% endif %}
                                                                        {% endfor %}
                                                                       value="141010|Fès|3">Fès
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]"   {% for ville in desrubref['villes_panier1'] %}
                                                                    {% if ville == "41110" %} checked {% endif %}
                                                                {% endfor %} value="41110|Agadir|3">Agadir
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]"   {% for ville in desrubref['villes_panier1'] %}
                                                                    {% if ville == "163010" %} checked {% endif %}
                                                                {% endfor %} value="163010|Tanger|2">Tanger
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]"   {% for ville in desrubref['villes_panier1'] %}
                                                                    {% if ville == "71010" %} checked {% endif %}
                                                                {% endfor %} value="71010|Marrakech|2">Marrakech
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    {% for ville in villes %}
                                                        <tr>
                                                            <td>
                                                                <label data-toggle="" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                    <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]"   {% for villel in desrubref['villes_panier1'] %}
                                                                        {% if (villel ==  ville.codeville)   %} checked {% endif %}
                                                                    {% endfor %}  value="{{ ville.codeville }}|{{ ville.libelle }}|{{ ville.cat }}"/>{{ ville.libelle }}
                                                                </label><br>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>


                                    </div>

                                    <div class="col-md-4" id="select_rub_prest_package"  style="display:none;">
                                        <div class="form-group">
                                            <div class="dropdown open">


                                                <button type="button" id="dropdownMenu1" class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;" aria-haspopup="true" aria-expanded="true">
                                                    <span id="select_ville_principe">   Package &nbsp; </span><span id="ville_principe_view" style="display: none;"></span>
                                                </button>


                                                <ul class=" dropdown-menu mySelect ul_rub ville" id="select-rubrique">


                                                    <table id="">

                                                        <tbody>

                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes_package" class="yes_package select_rub  chnage_color  " type="checkbox" name="villes_package" value="8450" {% if desrubref['package_value']  %}{% if desrubref['package_value']=='8450' %} checked {% endif %}{% endif %} ><h7 class="label_rub">Grand Casablanca</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes_package" class="yes_package select_rub   chnage_color " type="checkbox" name="villes_package" value="6100" {% if desrubref['package_value']  %}{% if desrubref['package_value']=='6100' %} checked {% endif %}{% endif %}><h7 class="label_rub">Grand Rabat</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes_package" class="yes_package select_rub   chnage_color " type="checkbox" name="villes_package" value="5600" {% if desrubref['package_value']  %}{% if desrubref['package_value']=='5600' %} checked {% endif %}{% endif %}><h7 class="label_rub">Grand Tanger</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes_package" class="yes_package select_rub   chnage_color " type="checkbox" name="villes_package" value="4500" {% if desrubref['package_value']  %}{% if desrubref['package_value']=='4500' %} checked {% endif %}{% endif %}><h7 class="label_rub">Grand Tetouan</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes_package" class="yes_package select_rub   chnage_color " type="checkbox" name="villes_package" value="5800" {% if desrubref['package_value']  %}{% if desrubref['package_value']=='5800' %} checked {% endif %}{% endif %}><h7 class="label_rub">Grand Agadir</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        </tbody>
                                                    </table>



                                                </ul>


                                            </div>
                                        </div>




                                    </div>





                                </div>
                            </div>






                            <div id="select_rub_prest1">

                                <div class="row">

                                    <div class="col-md-4">



                                        <div  class="form-group" >
                                            <div class="dropdown">
                                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_rub1">Sélectionner rubrique</span><span id="rubrique1_view"></span>

                                                    <span class="caret"></span></button>
                                                <ul class=" dropdown-menu r1 mySelect ul_rub " id="select-rubrique"  >
                                                    <input type="text" id="myInput1" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                                    <table id="myTable1">
                                                        <tbody >

                                                        {% for rubriqu in rubriques %}
                                                            <tr>
                                                                <td>
                                                                    <label><input class="select_rub checkbox1_rub chnage_color r1 first" id="check1" name="check1" type="checkbox" {% if desrubref['rub2']%} {% if rubriqu.id==desrubref['rub2'] %} checked {% endif %}{% endif %} value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </ul>
                                            </div>
                                        </div>


                                        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                        </div>
                                    </div>




                                    <div class="col-md-4">

                                        <div  class="form-group" >
                                            <div class="dropdown">


                                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_ville_principe_1">   Ville de parution  </span><span id="ville_principe_view_1"></span>
                                                </button>


                                                <ul class="dropdown-menu mySelect ul_rub ville1" id="select-rubrique" >

                                                    <input type="text" id="myInput_ville_first_1" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                                    <table id="myTable_ville_1">
                                                        <tbody >

                                                        <tr>
                                                            <td>
                                                                <label >
                                                                    <input id="villes1" class=" arms1 select_rub  chnage_color  ville_first_1" type="checkbox"  name="villes1"  {% if desrubref['villes2']  %} {% if desrubref['villes2']=="91010" %} checked {% endif %}{% endif %} value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1"  {% if desrubref['villes2']  %} {% if desrubref['villes2']=="101010" %} checked {% endif %}{% endif %} value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1"  {% if desrubref['villes2']  %} {% if desrubref['villes2']=="141010" %} checked {% endif %}{% endif %} value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1"  {% if desrubref['villes2']  %} {% if desrubref['villes2']=="41110" %} checked {% endif %}{% endif %} value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1"  {% if desrubref['villes2']  %} {% if desrubref['villes2']=="163010" %} checked {% endif %}{% endif %} value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1"  {% if desrubref['villes2']  %} {% if desrubref['villes2']=="71010" %} checked {% endif %}{% endif %} value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        {% for ville in villes %}
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                        <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1"  {% if desrubref['villes2']  %} {% if ville.codeville==desrubref['villes2']  %} checked {% endif %}{% endif %}  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                                    </label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>



                                                </ul>


                                            </div>
                                        </div>



                                    </div>

                                    <div class="col-md-4">

                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-3">
                                            &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                            <span id="select_ville_principe_supp_1">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_1"></span>
                                        </button>
                                        <div id="demo-2-3" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                            <input type="text" id="myInput_ville_panier_1" class="form-control" placeholder="search" >
                                            <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                            <div class="form-inline" id="dropdownMenu1" >
                                                <table id="myTable_ville_panier_1">
                                                    <tbody >

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                                <input id="select" class="my-activitys armss1 select_rub first" type="checkbox"  name="villes_panier1[]"  {% for ville in desrubref['villes_panier2'] %}
                                                                    {% if ville == "91010" %} checked {% endif %}
                                                                {% endfor %} value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]"  {% for ville in desrubref['villes_panier2'] %}
                                                                    {% if ville == "101010" %} checked {% endif %}
                                                                {% endfor %} value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]"  {% for ville in desrubref['villes_panier2'] %}
                                                                    {% if ville == "141010" %} checked {% endif %}
                                                                {% endfor %} value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]"  {% for ville in desrubref['villes_panier2'] %}
                                                                    {% if ville == "41110" %} checked {% endif %}
                                                                {% endfor %} value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]"  {% for ville in desrubref['villes_panier2'] %}
                                                                    {% if ville == "163010" %} checked {% endif %}
                                                                {% endfor %} value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]"  {% for ville in desrubref['villes_panier2'] %}
                                                                    {% if ville == "71010" %} checked {% endif %}
                                                                {% endfor %} value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    {% for ville in villes %}
                                                        <tr>
                                                            <td>
                                                                <label data-toggle="" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                    <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]" {% for villel in desrubref['villes_panier2'] %}
                                                                        {% if villel ==  ville.codeville  %} checked {% endif %}
                                                                    {% endfor %}  value="{{ ville.codeville }}|{{ ville.libelle }}|{{ ville.cat }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                                </label><br>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>




                                    </div>
                                </div>

                            </div>

                            <div id="select_rub_prest2" >

                                <div class="row">

                                    <div class="col-md-4">     <div  class="form-group" >
                                            <div class="dropdown">
                                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_rub2">Sélectionner rubrique</span><span id="rubrique2_view"></span>

                                                    <span class="caret"></span></button>
                                                <ul class=" dropdown-menu r2 mySelect ul_rub " id="select-rubrique"  >
                                                    <input type="text" id="myInput2" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                                    <table id="myTable2">
                                                        <tbody >

                                                        {% for rubriqu in rubriques %}
                                                            <tr>
                                                                <td>
                                                                    <label><input class="select_rub checkbox2_rub chnage_color r2 first" id="check2" name="check2" type="checkbox" {% if desrubref['rub3']%} {% if rubriqu.id==desrubref['rub3'] %} checked {% endif %}{% endif %}  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </ul>
                                            </div>
                                        </div>

                                        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                        </div> </div>

                                    <div class="col-md-4">



                                        <div  class="form-group" >
                                            <div class="dropdown">


                                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_ville_principe_2">   Ville de parution  </span><span id="ville_principe_view_2"></span>
                                                </button>


                                                <ul class="dropdown-menu mySelect ul_rub ville2" id="select-rubrique" >

                                                    <input type="text" id="myInput_ville_first_2" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                                    <table id="myTable_ville_2">
                                                        <tbody >

                                                        <tr>
                                                            <td>
                                                                <label >
                                                                    <input id="villes2" class=" arms2 select_rub  chnage_color  ville_first_2" type="checkbox"  name="villes2" {% if desrubref['villes3']  %} {% if desrubref['villes3']=="91010" %} checked {% endif %}{% endif %} value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" {% if desrubref['villes3']  %} {% if desrubref['villes3']=="101010" %} checked {% endif %}{% endif %} value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" {% if desrubref['villes3']  %} {% if desrubref['villes3']=="141010" %} checked {% endif %}{% endif %} value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" {% if desrubref['villes3']  %} {% if desrubref['villes3']=="41110" %} checked {% endif %}{% endif %} value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" {% if desrubref['villes3']  %} {% if desrubref['villes3']=="163010" %} checked {% endif %}{% endif %} value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" {% if desrubref['villes3']  %} {% if desrubref['villes3']=="71010" %} checked {% endif %}{% endif %} value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        {% for ville in villes %}
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                        <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" {% if desrubref['villes3']  %} {% if ville.codeville==desrubref['villes3']  %} checked {% endif %}{% endif %} value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                                    </label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>



                                                </ul>


                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-4">


                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-4">
                                            &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                            <span id="select_ville_principe_supp_2">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_2"></span>
                                        </button>
                                        <div id="demo-2-4" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                            <input type="text" id="myInput_ville_panier_2" class="form-control" placeholder="search" >
                                            <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                            <div class="form-inline" id="dropdownMenu1" >
                                                <table id="myTable_ville_panier_2">
                                                    <tbody >

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                                <input id="select" class="my-activitys armss2 select_rub first" type="checkbox"  name="villes_panier2[]" {% for ville in desrubref['villes_panier3'] %}
                                                                        {% if ville == "91010" %} checked {% endif %} {% endfor %} value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" {% for ville in desrubref['villes_panier3'] %}
                                                                        {% if ville == "101010" %} checked {% endif %}{% endfor %} value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" {% for ville in desrubref['villes_panier3'] %}
                                                                        {% if ville == "141010" %} checked {% endif %}{% endfor %} value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" {% for ville in desrubref['villes_panier3'] %}
                                                                        {% if ville == "41110" %} checked {% endif %}{% endfor %} value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" {% for ville in desrubref['villes_panier3'] %}
                                                                        {% if ville == "163010" %} checked {% endif %}{% endfor %} value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" {% for ville in desrubref['villes_panier3'] %}
                                                                        {% if ville == "71010" %} checked {% endif %}{% endfor %} value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    {% for ville in villes %}
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" {% for villel in desrubref['villes_panier3'] %}
                                                                        {% if villel ==  ville.codeville %} checked {% endif %}{% endfor %}  value="{{ ville.codeville }}|{{ ville.libelle }}|{{ ville.cat }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>

                                    </div>




                                </div>




                            </div>

                            <div id="select_rub_prest3" >


                                <div class="row">
                                    <div class="col-md-4">    <div  class="form-group" >
                                            <div class="dropdown">
                                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_rub3">Sélectionner rubrique</span><span id="rubrique3_view"></span>

                                                    <span class="caret"></span></button>
                                                <ul class=" dropdown-menu r3 mySelect ul_rub " id="select-rubrique"  >
                                                    <input type="text" id="myInput3" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                                    <table id="myTable3">
                                                        <tbody >

                                                        {% for rubriqu in rubriques %}
                                                            <tr>
                                                                <td>
                                                                    <label><input class="select_rub checkbox3_rub chnage_color r3 first" id="check3" name="check3" type="checkbox"  {% if desrubref['rub4']%} {% if rubriqu.id==desrubref['rub4'] %} checked {% endif %}{% endif %}  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </ul>
                                            </div>
                                        </div>

                                        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div  class="form-group" >
                                            <div class="dropdown">


                                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_ville_principe_3">   Ville de parution  </span><span id="ville_principe_view_3"></span>
                                                </button>


                                                <ul class="dropdown-menu mySelect ul_rub ville3" id="select-rubrique" >

                                                    <input type="text" id="myInput_ville_first_3" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                                    <table id="myTable_ville_3">
                                                        <tbody >

                                                        <tr>
                                                            <td>
                                                                <label >
                                                                    <input id="villes3" class=" arms3 select_rub  chnage_color  ville_first_3" type="checkbox"  name="villes3" {% if desrubref['villes4']  %} {% if desrubref['villes4']=="91010" %} checked {% endif %}{% endif %} value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" {% if desrubref['villes4']  %} {% if desrubref['villes4']=="101010" %} checked {% endif %}{% endif %} value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" {% if desrubref['villes4']  %} {% if desrubref['villes4']=="141010" %} checked {% endif %}{% endif %} value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" {% if desrubref['villes4']  %} {% if desrubref['villes4']=="41110" %} checked {% endif %}{% endif %} value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3"{% if desrubref['villes4']  %} {% if desrubref['villes4']=="163010" %} checked {% endif %}{% endif %} value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" {% if desrubref['villes4']  %} {% if desrubref['villes4']=="71010" %} checked {% endif %}{% endif %} value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        {% for ville in villes %}
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                        <input id="villes3" class=" arms3  select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" {% if desrubref['villes4']  %} {% if ville.codeville==desrubref['villes4']  %} checked {% endif %}{% endif %}  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                                    </label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>



                                                </ul>


                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">


                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-5">
                                            &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                            <span id="select_ville_principe_supp_3">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_3"></span>
                                        </button>
                                        <div id="demo-2-5" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                            <input type="text" id="myInput_ville_panier_3" class="form-control" placeholder="search" >
                                            <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                            <div class="form-inline" id="dropdownMenu1" >
                                                <table id="myTable_ville_panier_3">
                                                    <tbody >

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                                <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" {% for ville in desrubref['villes_panier4'] %}
                                                                        {% if ville == "91010" %} checked {% endif %} {% endfor %}  name="villes_panier3[]" value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" {% for ville in desrubref['villes_panier4'] %}
                                                                        {% if ville == "101010" %} checked {% endif %} {% endfor %} value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" {% for ville in desrubref['villes_panier4'] %}
                                                                        {% if ville == "141010" %} checked {% endif %} {% endfor %} value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" {% for ville in desrubref['villes_panier4'] %}
                                                                        {% if ville == "41110" %} checked {% endif %} {% endfor %} value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" {% for ville in desrubref['villes_panier4'] %}
                                                                        {% if ville == "163010" %} checked {% endif %} {% endfor %} value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" {% for ville in desrubref['villes_panier4'] %}
                                                                        {% if ville == "71010" %} checked {% endif %} {% endfor %} value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    {% for ville in villes %}
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" {% for villel in desrubref['villes_panier4'] %}
                                                                        {% if villel == ville.codeville  %} checked {% endif %} {% endfor %}  value="{{ ville.codeville }}|{{ ville.libelle }}|{{ ville.cat }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>

                                    </div>

                                </div>






                            </div>

                            <div id="select_rub_prest4" >

                                <div class="row">

                                    <div class="col-md-4">

                                        <div  class="form-group" >
                                            <div class="dropdown">
                                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_rub4">Sélectionner rubrique</span><span id="rubrique4_view"></span>

                                                    <span class="caret"></span></button>
                                                <ul class=" dropdown-menu r4 mySelect ul_rub " id="select-rubrique"  >
                                                    <input type="text" id="myInput4" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                                    <table id="myTable4">
                                                        <tbody >
                                                        {% for rubriqu in rubriques %}
                                                            <tr>
                                                                <td>
                                                                    <label><input class="select_rub checkbox4_rub chnage_color r4 first" id="check4" name="check4" type="checkbox" {% if desrubref['rub5']%} {% if rubriqu.id==desrubref['rub5'] %} checked {% endif %}{% endif %}  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </ul>
                                            </div>
                                        </div>

                                        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                        </div>

                                    </div>




                                    <div class="col-md-4">
                                        <div  class="form-group" >
                                            <div class="dropdown">


                                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                                    <span id="select_ville_principe_4">   Ville de parution  </span><span id="ville_principe_view_4"></span>
                                                </button>


                                                <ul class="dropdown-menu mySelect ul_rub ville4" id="select-rubrique" >

                                                    <input type="text" id="myInput_ville_first_4" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                                    <table id="myTable_ville_4">
                                                        <tbody >

                                                        <tr>
                                                            <td>
                                                                <label >
                                                                    <input id="villes4" class=" arms4 select_rub  chnage_color  ville_first_4" type="checkbox"  name="villes4" {% if desrubref['villes5']  %} {% if desrubref['villes5']=="91010" %} checked {% endif %}{% endif %} value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" {% if desrubref['villes5']  %} {% if desrubref['villes5']=="101010" %} checked {% endif %}{% endif %} value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" {% if desrubref['villes5']  %} {% if desrubref['villes5']=="141010" %} checked {% endif %}{% endif %} value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" {% if desrubref['villes5']  %} {% if desrubref['villes5']=="41110" %} checked {% endif %}{% endif %} value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" {% if desrubref['villes5']  %} {% if desrubref['villes5']=="163010" %} checked {% endif %}{% endif %} value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                                </label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <label>
                                                                    <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" {% if desrubref['villes5']  %} {% if desrubref['villes5']=="71010" %} checked {% endif %}{% endif %} value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                                </label>
                                                            </td>
                                                        </tr>

                                                        {% for ville in villes %}
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                        <input id="villes4" class=" arms4  select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" {% if desrubref['villes5']  %} {% if ville.codeville==desrubref['villes5']  %} checked {% endif %}{% endif %}  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                                    </label>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>



                                                </ul>


                                            </div>
                                        </div></div>


                                    <div class="col-md-4">


                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-1">
                                            &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                            <span id="select_ville_principe_supp_4">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_4"></span>
                                        </button>
                                        <div id="demo-2-1" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                            <input type="text" id="myInput_ville_panier_4" class="form-control" placeholder="search" >
                                            <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                            <div class="form-inline" id="dropdownMenu1" >
                                                <table id="myTable_ville_panier_4">
                                                    <tbody >

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                                <input id="select" class="my-activitys armss4 select_rub first" type="checkbox"  name="villes_panier4[]" {% for ville in desrubref['villes_panier5'] %}
                                                                    {% if ville == "91010" %} checked {% endif %} {% endfor %}  value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" {% for ville in desrubref['villes_panier5'] %}
                                                                    {% if ville == "101010" %} checked {% endif %} {% endfor %}  value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" {% for ville in desrubref['villes_panier5'] %}
                                                                    {% if ville == "141010" %} checked {% endif %}  {% endfor %}  value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" {% for ville in desrubref['villes_panier5'] %}
                                                                    {% if ville == "41110" %} checked {% endif %} {% endfor %}  value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" {% for ville in desrubref['villes_panier5'] %}
                                                                    {% if ville == "163010" %} checked {% endif %} {% endfor %}  value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                            </label><br>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label data-toggle="" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" {% for ville in desrubref['villes_panier5'] %}
                                                                    {% if ville == "71010" %} checked {% endif %} {% endfor %}  value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                            </label><br>
                                                        </td>
                                                    </tr>

                                                    {% for ville in villes %}
                                                        <tr>
                                                            <td>
                                                                <label data-toggle="" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                                    <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" {% for villel in desrubref['villes_panier5'] %}
                                                                        {% if villel == ville.codeville %} checked {% endif %} {% endfor %}  value="{{ ville.codeville }}|{{ ville.libelle }}|{{ ville.cat }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                                </label><br>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>


                                    </div>

                                </div>






                            </div>

{#                            <div id="select_rub_prest5" >
                                <div  class="form-group" >
                                    <div class="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span id="select_rub5">Sélectionner rubrique</span><span id="rubrique5_view"></span>

                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu r5 mySelect ul_rub " id="select-rubrique"  >
                                            <input type="text" id="myInput5" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                            <table id="myTable5">
                                                <tbody >
                                                {% for rubriqu in rubriques %}
                                                    <tr>
                                                        <td>
                                                            <label><input class="select_rub checkbox5_rub chnage_color r5 first" id="check5" name="check5" type="checkbox" {% if desrubref['rub6']%} {% if rubriqu.id==desrubref['rub6'] %} checked {% endif %}{% endif %}  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </ul>
                                    </div>
                                </div>

                                <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                </div>
                            </div>
                            <div id="select_rub_prest6" >
                                <div  class="form-group" >
                                    <div class="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span id="select_rub6">Sélectionner rubrique</span><span id="rubrique6_view"></span>

                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu r6 mySelect ul_rub " id="select-rubrique"  >
                                            <input type="text" id="myInput6" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                            <table id="myTable6">
                                                <tbody >
                                                {% for rubriqu in rubriques %}
                                                    <tr>
                                                        <td>
                                                            <label><input class="select_rub checkbox6_rub chnage_color r6 first" id="check6" name="check6" type="checkbox" {% if desrubref['rub7']%} {% if rubriqu.id==desrubref['rub7'] %} checked {% endif %}{% endif %} value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </ul>
                                    </div>
                                </div>

                                <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                </div>
                            </div>

                            #}

                            <div id="select_rub_prest7" >
                                <div  class="form-group" >
                                    <div class="dropdown" id="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Listing des prestations supplémentaires
                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu  mySelect ul_rub " id="select-rubrique"  >
                                            <li></li>
                                            <li ><div id="checkboxes" > </div> <input id="addprestation" name="prestsupp[]" class="input controle-checkbox length-input inputprestupplm"   type="text" placeholder="Renseigner la prestation supplémentaire"style="width: 340px!important;height: 40px;!important;"/></li>

                                        </ul>
                                    </div>
                                </div>


                            </div>
                        </form>

                        {# ------------------- selectionner marque-----------------#}
                        <form id="jsForm" class=" form-inline" action="" method="GET">

                            <div class="form-group marques" style="display:none ;">
                                <div class="dropdown">
                                    <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="marques" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Enter vos marques <span class="caret"></span></button>
                                    <ul class="dropdown-menu ul_rub" aria-labelledby="marques" style="overflow-y:scroll; width: 400px;height: 109px">
                                        <li ><input class="input_marque positionnement m " type="text" id="marq"  name="marq"   {% if marque['marq1'] %} value="{{  marque['marq1']}}" {% endif %} placeholder="Marque1"   style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m1" type="text" id="marq1"  name="marq1" {% if marque['marq2'] %} value="{{  marque['marq2']}}" {% endif %} placeholder="Marque2" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m2" type="text" id="marq2"  name="marq2" {% if marque['marq3'] %} value="{{  marque['marq3']}}" {% endif %}placeholder="Marque3" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m3" type="text" id="marq3"  name="marq3" {% if marque['marq4'] %} value="{{  marque['marq4']}}" {% endif %}placeholder="Marque4" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m4" type="text" id="marq4"  name="marq4" {% if marque['marq5'] %} value="{{  marque['marq5']}}" {% endif %}placeholder="Marque5" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m5" type="text" id="marq5"  name="marq5" {% if marque['marq6'] %} value="{{  marque['marq6']}}" {% endif %}placeholder="Marque6" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m6" type="text" id="marq6"  name="marq6" {% if marque['marq7'] %} value="{{  marque['marq7']}}" {% endif %}placeholder="Marque7" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m7" type="text" id="marq7"  name="marq7" {% if marque['marq8'] %} value="{{  marque['marq8']}}" {% endif %}placeholder="Marque8" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m8" type="text" id="marq8"  name="marq8" {% if marque['marq9'] %} value="{{  marque['marq9']}}" {% endif %}placeholder="Marque9" style="display: none"/>&nbsp; </li>
                                        <li ><input class="input_marque positionnement m9" type="text" id="marq9" name="marq9"  {% if marque['marq10'] %}value="{{  marque['marq10']}}" {% endif %}placeholder="Marque10" style="display: none"/>&nbsp; </li>


                                    </ul>
                                </div>
                            </div>

                            <div class="form-group marques" style="display: none">
                                <div class="dropdown">
                                    <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="positionnement" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Précisez votre positionnement liée à chaque marque<span class="caret"></span></button>
                                    <ul class="dropdown-menu ul_rub ma" aria-labelledby="positionnement" style="overflow-y:scroll; width: 400px;height: 109px">
                                        <div id="g" style="display: none">
                                            <input class="input_marque"   type="text" id="marque"  {% if marque['marq1'] %} value="{{  marque['marq1']}}" {% endif %}readonly placeholder="Marque1"/><br>
                                            <label ><input class="positionnement p1" type="checkbox" name="positionnement[]" {% if 'Distributeurs' in marque['posi1'] %} checked {% endif %} value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p1" type="checkbox" name="positionnement[]"  {% if 'Importateurs' in marque['posi1'] %} checked {% endif %} value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p1" type="checkbox" name="positionnement[]"  {% if 'Représentants agrées' in marque['posi1'] %} checked {% endif %} value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g1" style="display: none">
                                            <input class="input_marque"  type="text" id="marque1"  {% if marque['marq2'] %} value="{{  marque['marq2']}}" {% endif %}readonly placeholder="Marque2"/><br>
                                            <label><input class="positionnement p2" type="checkbox" name="positionnement1[]" {% if 'Distributeurs' in marque['posi2']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p2" type="checkbox" name="positionnement1[]" {% if 'Importateurs' in marque['posi2']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p2" type="checkbox" name="positionnement1[]" {% if 'Représentants agrées' in marque['posi2']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g2" style="display: none">
                                            <input class="input_marque"  type="text" id="marque2"  {% if marque['marq3'] %} value="{{  marque['marq3']}}" {% endif %} readonly placeholder="Marque3"/><br>
                                            <label><input class="positionnement p3" type="checkbox" name="positionnement2[]" {% if 'Distributeurs' in marque['posi3']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p3" type="checkbox" name="positionnement2[]" {% if 'Importateurs' in marque['posi3'] %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p3" type="checkbox" name="positionnement2[]" {% if 'Représentants agrées' in marque['posi3']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g3" style="display: none">
                                            <input class="input_marque"  type="text" id="marque3"  {% if marque['marq4'] %} value="{{  marque['marq4']}}" {% endif %} readonly placeholder="Marque4"/><br>
                                            <label><input class="positionnement p4" type="checkbox" name="positionnement3[]" {% if 'Distributeurs' in marque['posi4']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p4" type="checkbox" name="positionnement3[]" {% if 'Importateurs' in marque['posi4']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p4" type="checkbox" name="positionnement3[]" {% if 'Représentants agrées' in marque['posi4']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g4" style="display: none">
                                            <input class="input_marque"  type="text" id="marque4"  {% if marque['marq5'] %} value="{{  marque['marq5']}}" {% endif %} readonly placeholder="Marque5"/><br>
                                            <label><input class="positionnement p5" type="checkbox" name="positionnement4[]" {% if 'Distributeurs' in marque['posi5']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p5" type="checkbox" name="positionnement4[]" {% if 'Importateurs' in marque['posi5']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p5" type="checkbox" name="positionnement4[]" {% if 'Représentants agrées' in marque['posi5']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g5" style="display: none">
                                            <input class="input_marque"  type="text" id="marque5"  {% if marque['marq6'] %} value="{{  marque['marq6']}}" {% endif %} readonly placeholder="Marque6"/><br>
                                            <label><input class="positionnement p6" type="checkbox" name="positionnement5[]" {% if 'Distributeurs' in marque['posi6']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p6" type="checkbox" name="positionnement5[]" {% if 'Importateurs' in marque['posi6']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p6" type="checkbox" name="positionnement5[]" {% if 'Représentants agrées' in marque['posi6']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g6" style="display: none">
                                            <input class="input_marque"  type="text" id="marque6"  {% if marque['marq7'] %} value="{{  marque['marq7']}}" {% endif %} readonly placeholder="Marque7"/><br>
                                            <label><input class="positionnement p7" type="checkbox" name="positionnement6[]" {% if 'Distributeurs' in marque['posi7']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p7" type="checkbox" name="positionnement6[]" {% if 'Importateurs' in marque['posi7']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p7" type="checkbox" name="positionnement6[]" {% if 'Représentants agrées' in marque['posi7']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g7" style="display: none">
                                            <input class="input_marque"  type="text" id="marque7"  {% if marque['marq8'] %} value="{{  marque['marq8']}}" {% endif %} readonly placeholder="Marque8"/><br>
                                            <label><input class="positionnement p8" type="checkbox" name="positionnement7[]" {% if 'Distributeurs' in marque['posi8']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p8" type="checkbox" name="positionnement7[]" {% if 'Importateurs' in marque['posi8']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p8" type="checkbox" name="positionnement7[]" {% if 'Représentants agrées' in marque['posi8']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g8" style="display: none">
                                            <input class="input_marque"  type="text" id="marque8"  {% if marque['marq9'] %} value="{{  marque['marq9']}}" {% endif %} readonly placeholder="Marque9"/><br>
                                            <label><input class="positionnement p9" type="checkbox" name="positionnement8[]" {% if 'Distributeurs' in marque['posi9'] %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p9" type="checkbox" name="positionnement8[]" {% if 'Importateurs' in marque['posi9']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p9" type="checkbox" name="positionnement8[]" {% if 'Représentants agrées' in marque['posi9']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                        <div id="g9" style="display: none">
                                            <input class="input_marque"  type="text" id="marque9"  {% if marque['marq10'] %} value="{{  marque['marq10']}}" {% endif %}readonly placeholder="Marque10"/><br>
                                            <label><input class="positionnement p10" type="checkbox" name="positionnement9[]" {% if 'Distributeurs' in marque['posi10']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                            <label><input class="positionnement p10" type="checkbox" name="positionnement9[]" {% if 'Importateurs' in marque['posi10']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                            <label><input class="positionnement p10" type="checkbox" name="positionnement9[]" {% if 'Représentants agrées' in marque['posi1']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </form>



                        <div class="row">
                            <div class="col-md-6">



                            </div>

                            <div class="col-md-6"></div>

                        </div>


                        <div class="row">
                            <div class="col-md-6">



                            </div>
                            <p id="add_here">

                            </p>
                            <div class="col-md-6"></div>

                        </div>











                    </div>
                </div>
            </div>







            <input type="text" id="base"  class="form-control"  value="800"    style="border-radius: -2px!important;display: none;">
            <input type="text" id="local" class="form-control" value="2050"    style="border-radius: -2px!important;display: none;">
            <input type="text" id="rub1"  class="form-control"  value="2000"   style="border-radius: -2px!important;display: none;">
            <input type="text" id="rub2"  class="form-control"  value="1000"   style="border-radius: -2px!important;display: none;">
            <input type="text" id="rub3"  class="form-control"  value="400"    style="border-radius: -2px!important;display: none;">







            <div  class="form-group testpres" style="margin-bottom: 20px!important;">
            </div>





          {#  {% if raison!=null and raison['profession'] =='oui' %}

                <div class="activites" >
                    <div class="btn-2 profession_liberale" align="center" >
                        <p>Profession libérale</p>
                    </div>

                    <div class="visibilite">
                        <div class="form-group" style="margin-left: -10px;">
                            <button type="button" class="btn btn_profession" id="dropdownMenu" data-toggle="collapse" data-target="#ville" >
                                Ville principale &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                            </button>

                            <div class="form-inline profession">
                                <label class="checkbox-inline" id="profession_lib">
                                    <input class="checkbox_profession profession" id="profession" name="profession"  type="checkbox" {% if profession['profession']=='3000' %}checked {% endif %} value="3000">Profession
                                    libérale
                                </label>
                                <label class="checkbox-inline" style="display: none" >
                                    <input type="text" id="prix" name="prix"   {% if profession['prix'] %} value="{{  profession['prix']}}" {% else %} value="0"{% endif %} readonly  >
                                </label>
                            </div>

                            <div id="ville" class="collapse bouton-2" style="position: relative" >
                                <input type="text" id="myInput_ville" class="form-control" placeholder="search" >
                                <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>
                                <div class="form-inline" id="dropdownMenu1" >
                                    <table id="myTable_ville">
                                        <tbody >

                                        <tr>
                                            <td> <label class="checkbox-inline">
                                                    <input id="select" type="checkbox" class="checkbox_villes profession_ville"  name="villesp"  {% if referencement['villes']  %} {% if referencement['villes']=="91010" %} checked {% endif %}{% endif %} value="91010">&nbsp; &nbsp;Casablanca
                                                </label><br></td>

                                        </tr>
                                        <tr>
                                            <td><label class="checkbox-inline">
                                                    <input id="select" type="checkbox" class="checkbox_villes profession_ville"name="villesp" {% if referencement['villes']  %} {% if referencement['villes']=="101010" %} checked {% endif %}{% endif %} value="101010">&nbsp; &nbsp;Rabat
                                                </label><br></td>

                                        </tr>
                                        <tr>
                                            <td> <label class="checkbox-inline">
                                                    <input id="select" type="checkbox" class="checkbox_villes profession_ville"name="villesp" {% if referencement['villes']  %} {% if referencement['villes']=="41110" %} checked {% endif %}{% endif %} value="41110">&nbsp; &nbsp;Agadir
                                                </label><br></td>

                                        </tr>
                                        <tr>
                                            <td> <label class="checkbox-inline">
                                                    <input id="select" type="checkbox" class="checkbox_villes profession_ville"name="villesp"{% if referencement['villes']  %} {% if referencement['villes']=="71010" %} checked {% endif %}{% endif %} value="71010">&nbsp; &nbsp;Marrakech
                                                </label><br></td>

                                        </tr>

                                        {% for ville in villes %}
                                            <tr>
                                                <td>
                                                    <label class="checkbox-inline">
                                                        <input id="select" class="checkbox_villes profession_ville" {% if profession['villesp']  %} {% if ville.codeville==profession['villesp']  %} checked {% endif %}{% endif %}
                                                               type="checkbox" name="villesp" value="{{ ville.codeville }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                    </label><br>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>

                                </div>
                            </div>

                        </div>
 $('#div').css('display', 'none');
                    </div>
                </div>

            {% endif %}#}

            <div class="row">

                <div class="col-md-6">

                    {#                  <tr><td><input type="number" name="sum2" id="sum2" class="pres_marq" style="display:none;" /></td></tr>

                                      <td><input type="number"  id="sum3" name="sum3"  class="pres_marq" {% if referencement['sum3'] %} value="{{  referencement['sum3']}}" {% else %} value="0"{% endif %}  style="display:none;" /></td>
                                      <td> <input type="number" id="mari" name="mari"  {% if referencement['mari'] %} value="{{  referencement['mari']}}" {% else %} value="0"{% endif %}   style="display: none" ></td>
                                      <td> <input type="number" id="marque_pack" name="marque_pack" {% if referencement['marque_pack'] %} value="{{  referencement['marque_pack']}}" {% else %} value="0"{% endif %}  style="display: none" ></td>
                                      <td> <input type="number" id="resulta" name="resulta" {% if referencement['resulta'] %} value="{{  referencement['resulta']}}" {% else %} value="0"{% endif %}    style="display: none"></td>
                                      <td> <input type="number" id="resulta2" name="resulta2"  {% if referencement['resulta2'] %} value="{{  referencement['resulta2']}}" {% else %} value="0"{% endif %} style="display: none" ></td>

                                      <td> <input type="number" id="rubd"  name="rubd"     {% if referencement['rubd'] %} value="{{  referencement['rubd']}}" {% else %} value="0"{% endif %} style="display: none"></td>
                                      <td><input type="number" id="rania" name="rania"    {% if referencement['rania'] %} value="{{  referencement['rania']}}" {% else %} value="0"{% endif %} style="display: none"></td>
                                      <td><input type="number" id="raniad" name="raniad"  {% if referencement['raniad'] %} value="{{  referencement['raniad']}}" {% else %} value="0"{% endif %} style="display: none"></td><br>


                  #}

                    <input type="text" id="rub_supp_1" name="rub_supp_1"  class="form-control"     {% if desrubref['rub_supp_1'] %} value="{{  desrubref['rub_supp_1']}}" {% else %} value="0"{% endif %}     style="border-radius: -2px;display:none;">
                    <input type="text" id="rub_supp_2"  name="rub_supp_2" class="form-control"  {% if desrubref['rub_supp_2'] %} value="{{  desrubref['rub_supp_2']}}" {% else %} value="0"{% endif %}        style="border-radius: -2px;display:none;">
                    <input type="text" id="rub_supp_3" name="rub_supp_3"  class="form-control"   {% if desrubref['rub_supp_3'] %} value="{{  desrubref['rub_supp_3']}}" {% else %} value="0"{% endif %}        style="border-radius: -2px;display:none;">
                    <input type="text" id="rub_supp_4"  name="rub_supp_4"  class="form-control"  {% if desrubref['rub_supp_4'] %} value="{{  desrubref['rub_supp_4']}}" {% else %} value="0"{% endif %}         style="border-radius: -2px ;display:none;">
                    <input type="text" id="rub_supp_5"  name="rub_supp_5"  class="form-control"  {% if desrubref['rub_supp_5'] %} value="{{  desrubref['rub_supp_5']}}" {% else %} value="0"{% endif %}        style="border-radius: -2px;display:none;">
                    <input type="text" id="rub_supp_6" name="rub_supp_6" class="form-control"   {% if desrubref['rub_supp_6'] %} value="{{  desrubref['rub_supp_6']}}" {% else %} value="0"{% endif %}        style="border-radius: -2px;display:none;">
                    <input type="text" id="rub_supp_7" name="rub_supp_7"  class="form-control"   {% if desrubref['rub_supp_7'] %} value="{{  desrubref['rub_supp_7']}}" {% else %} value="0"{% endif %}       style="border-radius: -2px ;display:none;">

                    <input type="text" id="localiter_supp" name="localiter_supp" class="form-control"  {% if desrubref['localiter_supp'] %} value="{{  desrubref['localiter_supp']}}" {% else %} value="0"{% endif %}     style="border-radius: -2px ;display:none;">
                    <input type="text" id="localiter_supp1"  name="localiter_supp1" class="form-control"  {% if desrubref['localiter_supp1'] %} value="{{  desrubref['localiter_supp1']}}" {% else %} value="0"{% endif %}     style="border-radius: -2px ;display:none;">
                    <input type="text" id="localiter_supp2" name="localiter_supp2" class="form-control"  {% if desrubref['localiter_supp2'] %} value="{{  desrubref['localiter_supp2']}}" {% else %} value="0"{% endif %}     style="border-radius: -2px ;display:none;">
                    <input type="text" id="localiter_supp3" name="localiter_supp3" class="form-control"   {% if desrubref['localiter_supp3'] %} value="{{  desrubref['localiter_supp3']}}" {% else %} value="0"{% endif %}    style="border-radius: -2px ;display:none;">
                    <input type="text" id="localiter_supp4" name="localiter_supp4" class="form-control"   {% if desrubref['localiter_supp4'] %} value="{{  desrubref['localiter_supp4']}}" {% else %} value="0"{% endif %}      style="border-radius: -2px ;display:none;">
                    <input type="text" id="localiter_supp5" name="localiter_supp5" class="form-control"  {% if desrubref['localiter_supp5'] %} value="{{  desrubref['localiter_supp5']}}" {% else %} value="0"{% endif %}    style="border-radius: -2px ;display:none;">
                    <input type="text" id="localiter_supp6" name="localiter_supp6" class="form-control"  {% if desrubref['localiter_supp6'] %} value="{{  desrubref['localiter_supp6']}}" {% else %} value="0"{% endif %}     style="border-radius: -2px ;display:none;">
                    <input type="text" id="localiter_supp7" name="localiter_supp7" class="form-control"   {% if desrubref['localiter_supp7'] %} value="{{  desrubref['localiter_supp7']}}" {% else %} value="0"{% endif %}     style="border-radius: -2px ;display:none;">

                    <input type="text" id="final"  name="final"  class="form-control"  {% if desrubref['final'] %} value="{{  desrubref['final']}}" {% else %} value="0"{% endif %}      style="border-radius: -2px ; display:none;">

                    <input type="text" id="final_total" class="form-control" value="0" style="border-radius: -2px;display: none;">



                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                        <div class="form-group">

                            <button id="khalila" class="btn black"><span style="color: #ffdb2e;">Budget estimé</span> <br>Référencement</button>

                            <div id="ref" style="display: none; margin-top: 20px;"><input class="results" type="text" name="fayssal" id="fayssal"  {% if desrubref['fayssal'] %} value="{{  desrubref['fayssal']}}" {% else %} value="0"{% endif %}    readonly="">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                        <div class="form-group pull-right">
                            <div class="btn black" id="devis">
                                <a href="{{ path('facture_sec_fayssal') }}" id="ajax_test_referencement_fort" target="_blank" style="color: white;font-weight: bold;font-size: 22px">Devis </a>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>
    </form>
    </div>
</section>

<script type="text/javascript">


    var defaultDiacriticsRemovalMap = [
        {'base':'A', 'letters':/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},
        {'base':'AA','letters':/[\uA732]/g},
        {'base':'AE','letters':/[\u00C6\u01FC\u01E2]/g},
        {'base':'AO','letters':/[\uA734]/g},
        {'base':'AU','letters':/[\uA736]/g},
        {'base':'AV','letters':/[\uA738\uA73A]/g},
        {'base':'AY','letters':/[\uA73C]/g},
        {'base':'B', 'letters':/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},
        {'base':'C', 'letters':/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},
        {'base':'D', 'letters':/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},
        {'base':'DZ','letters':/[\u01F1\u01C4]/g},
        {'base':'Dz','letters':/[\u01F2\u01C5]/g},
        {'base':'E', 'letters':/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},
        {'base':'F', 'letters':/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},
        {'base':'G', 'letters':/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},
        {'base':'H', 'letters':/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},
        {'base':'I', 'letters':/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},
        {'base':'J', 'letters':/[\u004A\u24BF\uFF2A\u0134\u0248]/g},
        {'base':'K', 'letters':/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},
        {'base':'L', 'letters':/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},
        {'base':'LJ','letters':/[\u01C7]/g},
        {'base':'Lj','letters':/[\u01C8]/g},
        {'base':'M', 'letters':/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},
        {'base':'N', 'letters':/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},
        {'base':'NJ','letters':/[\u01CA]/g},
        {'base':'Nj','letters':/[\u01CB]/g},
        {'base':'O', 'letters':/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},
        {'base':'OI','letters':/[\u01A2]/g},
        {'base':'OO','letters':/[\uA74E]/g},
        {'base':'OU','letters':/[\u0222]/g},
        {'base':'P', 'letters':/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},
        {'base':'Q', 'letters':/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},
        {'base':'R', 'letters':/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},
        {'base':'S', 'letters':/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},
        {'base':'T', 'letters':/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},
        {'base':'TZ','letters':/[\uA728]/g},
        {'base':'U', 'letters':/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},
        {'base':'V', 'letters':/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},
        {'base':'VY','letters':/[\uA760]/g},
        {'base':'W', 'letters':/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},
        {'base':'X', 'letters':/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},
        {'base':'Y', 'letters':/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},
        {'base':'Z', 'letters':/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},
        {'base':'a', 'letters':/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},
        {'base':'aa','letters':/[\uA733]/g},
        {'base':'ae','letters':/[\u00E6\u01FD\u01E3]/g},
        {'base':'ao','letters':/[\uA735]/g},
        {'base':'au','letters':/[\uA737]/g},
        {'base':'av','letters':/[\uA739\uA73B]/g},
        {'base':'ay','letters':/[\uA73D]/g},
        {'base':'b', 'letters':/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},
        {'base':'c', 'letters':/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},
        {'base':'d', 'letters':/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},
        {'base':'dz','letters':/[\u01F3\u01C6]/g},
        {'base':'e', 'letters':/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},
        {'base':'f', 'letters':/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},
        {'base':'g', 'letters':/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},
        {'base':'h', 'letters':/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},
        {'base':'hv','letters':/[\u0195]/g},
        {'base':'i', 'letters':/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},
        {'base':'j', 'letters':/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},
        {'base':'k', 'letters':/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},
        {'base':'l', 'letters':/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},
        {'base':'lj','letters':/[\u01C9]/g},
        {'base':'m', 'letters':/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},
        {'base':'n', 'letters':/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},
        {'base':'nj','letters':/[\u01CC]/g},
        {'base':'o', 'letters':/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},
        {'base':'oi','letters':/[\u01A3]/g},
        {'base':'ou','letters':/[\u0223]/g},
        {'base':'oo','letters':/[\uA74F]/g},
        {'base':'p','letters':/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},
        {'base':'q','letters':/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},
        {'base':'r','letters':/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},
        {'base':'s','letters':/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},
        {'base':'t','letters':/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},
        {'base':'tz','letters':/[\uA729]/g},
        {'base':'u','letters':/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},
        {'base':'v','letters':/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},
        {'base':'vy','letters':/[\uA761]/g},
        {'base':'w','letters':/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},
        {'base':'x','letters':/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},
        {'base':'y','letters':/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},
        {'base':'z','letters':/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}
    ];
    function removeDiacritics (str) {
        var changes = defaultDiacriticsRemovalMap;
        for(var i=0; i<changes.length; i++) {
            str = str.replace(changes[i].letters, changes[i].base);
        }
        return str;
    }
/*    $('.dropdown').on('hide.bs.dropdown', function () {
        alert('yes');
        return false;
    });
    $('#dropdown').on("click", '.open', function () {
        this.closable = false;
    });
    $('.dropdown.open').on({
        "shown.bs.dropdown": function() { this.closable = false; },
        "click":             function() { this.closable = true; },
        "hide.bs.dropdown":  function() { return this.closable; }
    });*/





    $(window).ready(function () {


        if(($(".armss").is(":checked"))) {

            var arr=[];


            $('.armss:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });


            $("#ville_principe_view_supp").text(arr);
            $("#select_ville_principe_supp").hide();
            $("#ville_principe_view_supp").show();
        }
        else{
            if ($('.armss').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp").html(null);
                $("#ville_principe_view_supp").hide();
                $("#select_ville_principe_supp").show();

            }
        }


        if(($(".armss1").is(":checked"))) {


            var arr=[];

            $('.armss1:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });


            $("#ville_principe_view_supp_1").text(arr);
            $("#select_ville_principe_supp_1").hide();
            $("#ville_principe_view_supp_1").show();}
        else{
            if ($('.armss1').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_1").html(null);
                $("#ville_principe_view_supp_1").hide();
                $("#select_ville_principe_supp_1").show();

            }
        }



        if(($(".armss2").is(":checked"))) {


            var arr=[];

            $('.armss2:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });


            $("#ville_principe_view_supp_2").text(arr);
            $("#select_ville_principe_supp_2").hide();
            $("#ville_principe_view_supp_2").show();}
        else{
            if ($('.armss2').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_2").html(null);
                $("#ville_principe_view_supp_2").hide();
                $("#select_ville_principe_supp_2").show();

            }
        }

        if(($(".armss3").is(":checked"))) {

            var arr=[];

            $('.armss3:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });


            $("#ville_principe_view_supp_3").text(arr);
            $("#select_ville_principe_supp_3").hide();
            $("#ville_principe_view_supp_3").show();}
        else{
            if ($('.armss3').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_3").html(null);
                $("#ville_principe_view_supp_3").hide();
                $("#select_ville_principe_supp_3").show();

            }
        }

        if(($(".armss4").is(":checked"))) {

            var arr=[];

            $('.armss4:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });


            $("#ville_principe_view_supp_4").text(arr);
            $("#select_ville_principe_supp_4").hide();
            $("#ville_principe_view_supp_4").show();}
        else{
            if ($('.armss4').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_4").html(null);
                $("#ville_principe_view_supp_4").hide();
                $("#select_ville_principe_supp_4").show();

            }
        }


    });



    $(window).load(function(){



        if($(".my-activitys").is(":checked")){
            $( "#dropdownMenu1" ).trigger( "click" );
        }

        if($(".my-activity").is(":checked")){
            $( "#dropdownMenu2" ).trigger( "click" );
        }

        if($(".regiontest").is(":checked")){
            $( "#dropdownMenu3" ).trigger( "click" );
        }

        if($(".region").is(":checked")){
            $( "#dropdownMenu4" ).trigger( "click" );
        }

        if($(".profession_ville").is(":checked")){
            $( "#dropdownMenu5" ).trigger( "click" );
        }

        if($(".r").is(":checked")){
            $( "#rubrique" ).trigger( "click" );
        }

        if($(".r").is(":checked")){
            $( "#btn_prestattion" ).trigger( "click" );


        }

        /* if($(".r").is(":checked")){
         $( "#rubrique1" ).trigger( "click" );
         }
         if($(".r1").is(":checked")){
         $( "#rubrique2" ).trigger( "click" );
         }*/


    });





    $(document).ready(function(){



        if($(".my-activitys").is(":checked")){
            $( "#dropdownMenu1" ).trigger( "click" );
        }

        if($(".my-activity").is(":checked")){
            $( "#dropdownMenu2" ).trigger( "click" );
        }

        if($(".regiontest").is(":checked")){
            $( "#dropdownMenu3" ).trigger( "click" );
        }

        if($(".region").is(":checked")){
            $( "#dropdownMenu4" ).trigger( "click" );
        }

        if($(".profession_ville").is(":checked")){
            $( "#dropdownMenu5" ).trigger( "click" );
        }

        if($(".r").is(":checked")){
            $( "#rubrique" ).trigger( "click" );
        }

        if($(".r").is(":checked")){
            $( "#btn_prestattion" ).trigger( "click" );


        }

        /* if($(".r").is(":checked")){
         $( "#rubrique1" ).trigger( "click" );
         }
         if($(".r1").is(":checked")){
         $( "#rubrique2" ).trigger( "click" );
         }*/


    });



    $("#num2").on("keydown keyup change load", function() {

        var num2 = document.getElementById('num2').value;
        var prest =num2/3;
        var prest = -Math.abs(prest);
        var prest =Math.floor(prest);
        var prest = Math.abs(prest);
        var result2 = Math.ceil(parseInt(num2)/3)  * 1500;
        document.getElementById("resulta").value = result2 ;
        document.getElementById("resulta2").value = prest ;

        if (num2 == 0) {
            $("#select_rub_prest7").hide();
            $('.prest8').prop('checked', false);
        }else
        {
            $("#select_rub_prest7").show();
        }
//        cal();
        calculate_rubrique_total();
        sendajax();
    });

    $(document).ready(function() {


        $(window,document).on('change load', '.controle-checkbox', function () {
            var sum_prest= parseInt( $("#sum").val());
            var num2_prest=  parseInt($("#num2").val());
            var totale =sum_prest+num2_prest;
            /* alert(totale);*/

            var t  = $('input.controle-checkbox:checked').length;
            var t1 = $('input.controle-checkbox:checked');

            $('#p_count').val(t);

            if(t >= totale)
            {
                $('.controle-checkbox').not(t1).prop('disabled',this.checked);
            }
            else
            {
                $('.controle-checkbox').not(t1).prop('disabled',false);
            }
        });

        $('.loaders').css('display','none');
    });

    $(document).on('change keydown keyup ', '.mySelect,.prest,.select_rub  ', function () {

        $('.loaders').css('display','');
        form =$('#jsForm');
        $.ajax({
            url: '{{ path('referencement_commande_devis_des_rub_fayssal') }}',
            type: 'POST',
            data: form.serialize(),
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;

                    console.log(successMessage);
                    $('.loaders').css('display','none');
                },
                //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');
                }
            }
        });
    });


    $(document).on('click ', '.positionnement', function () {
        form =$('#jsForm ');
        $.ajax({
            url: '{{ path('referencement_commande_devis_des_marque') }}',
            type: 'POST',
            data: form.serialize(),
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;
                    console.log(successMessage);
                    $('.loaders').css('display','none');
                },
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');
                }
            }
        });
    });


    $(document).on('keyup', '.input_marque', function () {
        var marque =   $("#marq").val();
        var marque1 =  $("#marq1").val();
        var marque2 =  $("#marq2").val();
        var marque3 =  $("#marq3").val();
        var marque4 =  $("#marq4").val();
        var marque5 =  $("#marq5").val();
        var marque6 =  $("#marq6").val();
        var marque7 =  $("#marq7").val();
        var marque8 =  $("#marq8").val();
        var marque9 =  $("#marq9").val();
        document.getElementById('marque').value=marque;
        document.getElementById('marque1').value=marque1;
        document.getElementById('marque2').value=marque2;
        document.getElementById('marque3').value=marque3;
        document.getElementById('marque4').value=marque4;
        document.getElementById('marque5').value=marque5;
        document.getElementById('marque6').value=marque6;
        document.getElementById('marque7').value=marque7;
        document.getElementById('marque8').value=marque8;
        document.getElementById('marque9').value=marque9;

    });
</script>

<script src="{{ asset('js/jquery.quicksearch.js') }}  "></script>


<script>

    $('input#myInput').quicksearch('table#myTable   tbody tr');
    $('input#myInput_supp').quicksearch('table#myTable_supp   tbody tr');

    $('input#myInput_panier').quicksearch('table#myTable_panier   tbody tr');
    $('input#myInput1').quicksearch('table#myTable1 tbody tr');

    $('input#myInput2').quicksearch('table#myTable2 tbody tr');
    $('input#myInput3').quicksearch('table#myTable3 tbody tr');
    $('input#myInput4').quicksearch('table#myTable4 tbody tr');

    $('input#myInput_ville_first').quicksearch('table#myTable_ville tbody tr');
    $('input#myInput_ville_panier').quicksearch('table#myTable_ville_panier tbody tr');

    $('input#myInput_ville').quicksearch('table#myTable_ville tbody tr');
    $('input#myInput_ville_profession').quicksearch('table#myTable_ville_profession tbody tr');

    $('input#myInput_ville_first_1').quicksearch('table#myTable_ville_1 tbody tr');
    $('input#myInput_ville_panier_1').quicksearch('table#myTable_ville_panier_1 tbody tr');

    $('input#myInput_ville_first_2').quicksearch('table#myTable_ville_2 tbody tr');
    $('input#myInput_ville_panier_2').quicksearch('table#myTable_ville_panier_2 tbody tr');


    $('input#myInput_ville_first_3').quicksearch('table#myTable_ville_3 tbody tr');
    $('input#myInput_ville_panier_3').quicksearch('table#myTable_ville_panier_3 tbody tr');

    $('input#myInput_ville_first_4').quicksearch('table#myTable_ville_4 tbody tr');
    $('input#myInput_ville_panier_4').quicksearch('table#myTable_ville_panier_4 tbody tr');


</script>
<script type="text/javascript">

    $('.arms').on('change', function() {
        $('.arms').not(this).prop('checked', false);
    });


</script>

<script>


    /*        $(window,"#num1").on("load  ", function() {


     var num1 = $("#num1").val();

     document.getElementById('nbr_rubrique').value = num1;
     if (num1 == 0) {

     $("#rubrique").show();
     $("#select_rub_prest").hide();
     $("#select_rub_prest1").hide();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();
     $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

     }
     else
     if(num1==1)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").hide();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();

     $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==2)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();


     $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==3)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();



     $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==4)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();

     $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==5)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();
     $('.r5,.r6,.prest6,.prest7').prop('checked', false);


     }
     else
     if(num1==6)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").show();
     $("#select_rub_prest6").hide();
     $('.r6,.prest7').prop('checked', false);
     }
     else
     if(num1==7)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").show();
     $("#select_rub_prest6").show();
     }

     });*/


    /*
     $("#num1,#num2").on("keydown keyup change load ", function()  {

     var sum = parseInt($('input[name=sum]').val());
     var num2 = parseInt($('input[name=num2]').val());
     var nbr_prestattion = Math.ceil(parseInt(sum+num2));
     document.getElementById("nbr_prestattion").value = nbr_prestattion ;

     });
     */

    $(window,"#num2").on("load", function() {
        var num2 = document.getElementById('num2').value;
        var prest =num2/3;
        var prest = -Math.abs(prest);
        var prest =Math.floor(prest);
        var prest = Math.abs(prest);
        var result2 = Math.ceil(parseInt(num2)/3)  * 1500;
        document.getElementById("resulta").value = result2 ;
        document.getElementById("resulta2").value = prest ;
        if (num2 == 0) {
            $("#select_rub_prest7").hide();
            $('.prest8').prop('checked', false);
        }else
        {
            $("#select_rub_prest7").show();
        }
    });
    $(window,"#num3").on("load", function() {

        var marq = $("#num3").val();
        var marque =marq/3;
        var marque = -Math.abs(marque);
        var marque =Math.floor(marque);
        var marque = Math.abs(marque);
        var num3 = document.getElementById('num3').value;
        var result3 = Math.ceil(parseInt(num3)/3)  * 1500;
        document.getElementById("mari").value = result3;
        document.getElementById("marque_pack").value = marque;

        if (marq == 0) {
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p1,.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq","marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque","marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==1){
            $(".marques,.m").show();$(".m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g").show();$("#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;

        }
        else
        if(marq==2){
            $(".marques,.m,.m1").show();$(".m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1").show();$("#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==3){
            $(".marques,.m,.m1,.m2").show();$(".m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2").show();$("#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==4){
            $(".marques,.m,.m1,.m2,.m3").show();$(".m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3").show();$("#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==5){
            $(".marques,.m,.m1,.m2,.m3,.m4").show();$(".m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4").show();$("#g5,#g6,#g7,#g8,#g9").hide();
            $('.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==6){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5").show();$(".m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5").show();$("#g6,#g7,#g8,#g9").hide();
            $('.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque6","marque7","marque8","marque9").value = null;
        }
        else
        if (marq==7) {
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6").show();$(".m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6").show();$("#g7,#g8,#g9").hide();
            $('.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq7","marq8","marq9").value = null;
            document.getElementById("marque7","marque8","marque9").value = null;
        }
        else
        if(marq==8){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8").show();$(".m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7").show();$("#g8,#g9").hide();
            $('.p9,.p10').prop('checked', false);
            document.getElementById("marq8","marq9").value = null;
            document.getElementById("marque8","marque9").value = null;
        }
        else
        if(marq==9){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8").show();$(".m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8").show();$("#g9").hide();
            $('.p10').prop('checked', false);
            document.getElementById("marq9").value = null;
            document.getElementById("marque9").value = null;
        }
        else
        if(marq==10){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8,.m9").show();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").show();
        }
    });
    $(window,"#num1,#num2").on("load ", function()  {

        var sum = parseInt($('input[name=sum]').val());
        var num2 = parseInt($('input[name=num2]').val());
        var nbr_prestattion = Math.ceil(parseInt(sum+num2));
        document.getElementById("nbr_prestattion").value = nbr_prestattion ;

    });
    $(window,"#num1").on("load  ", function() {
        var num1 = $("#num1").val();
        document.getElementById('nbr_rubrique').value = num1;
        if (num1 == 0) {
            $("#rubrique").show();
            $("#select_rub_prest").hide();
            $("#select_rub_prest1").hide();
            $("#select_rub_prest2").hide();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();
            $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

        }
        else
        if(num1==1)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").hide();
            $("#select_rub_prest2").hide();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();

            $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==2)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").hide();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();


            $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==3)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();



            $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==4)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();

            $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==5)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();
            $('.r5,.r6,.prest6,.prest7').prop('checked', false);


        }
        else
        if(num1==6)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest5").show();
            $("#select_rub_prest6").hide();
            $('.r6,.prest7').prop('checked', false);
        }
        else
        if(num1==7)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest5").show();
            $("#select_rub_prest6").show();
        }

    });

    $(document).on('click', '#khalila', function (e) {
        e.preventDefault();

        var div = document.getElementById("ref");
        if (div.style.display == "none") {
            div.style.display = "block";
        }
        else {
            div.style.display = "none";
        }
        document.getElementById('fayssal')/*.style.display = 'block'*/;
    });

    function ceiling(number, significance) {
        return Math.ceil(number / significance) * significance;
    }



    $(document).on('click', '.armss', function () {



        var arr = [];




        if($(this).is(":checked"))
        {



            var c   = $(this).attr("value").split('|');
            if ((c[0]==8450) || (c[0]==6100) || (c[0]==5600) || (c[0]==4500) || (c[0]==5800) ){

                $(".yes_package[value='"+c[0]+"']").prop('checked', true);
                $("#package_yes").prop('checked', true);

                $('input[id=final]').val(c[0]);

            }
        else{
                $(".yes_package").prop('checked', false);
                $("#package_non").prop('checked', true);


               calculate_localiter_second(c[2]);
            }
        }
        else{

            var b  = $(this).attr("value").split('|');


            calculate_localiter_second_not(b[2]);
        }


        $('.armss:checked').each(function () {
            var v   = $(this).attr("value").split('|');

            arr.push(v[1]);

        });
        if(($(".armss").is(":checked"))) {

            $("#ville_principe_view_supp").text(arr);
            $("#select_ville_principe_supp").hide();
            $("#ville_principe_view_supp").show();
        }
        else{
            if ($('.armss').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp").html(null);
                $("#ville_principe_view_supp").hide();
                $("#select_ville_principe_supp").show();

            }
        }

//            $("#add_here").text(arr);

        calculate_rubrique_total();

    });

    $(document).on('click', '.armss[value=8450]', function () {
        if ($(this).is(':checked'))
        {

            $('.armss').not(this).prop('disabled', this.checked);

            $(".armss").prop('checked', false);
            $(".armss[value=8450]").prop('checked', true);
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");ville_first
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);
        }
        else
        {
            var v  =  $('.arms:checked').attr("value").split('|');
            $('input[id=final]').val(0);

            calculate_first_one(v[1]);
            calculate_rubrique_total();
            $(".armss ").prop('disabled', false);

        }
    });


    $(document).on('click', '.armss[value=6100]', function () {
        if ($(this).is(':checked'))
        {

            $('.armss').not(this).prop('disabled', this.checked);

            $(".armss").prop('checked', false);
            $(".armss[value=6100]").prop('checked', true);
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");ville_first
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);
        }
        else
        {
            var v  =  $('.arms:checked').attr("value").split('|');
            $('input[id=final]').val(0);

            calculate_first_one(v[1]);
            calculate_rubrique_total();
            $(".armss ").prop('disabled', false);

        }
    });

    $(document).on('click', '.armss[value=5600]', function () {
        if ($(this).is(':checked'))
        {

            $('.armss').not(this).prop('disabled', this.checked);

            $(".armss").prop('checked', false);
            $(".armss[value=5600]").prop('checked', true);
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");ville_first
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);
        }
        else
        {
            var v  =  $('.arms:checked').attr("value").split('|');
            $('input[id=final]').val(0);

            calculate_first_one(v[1]);
            calculate_rubrique_total();
            $(".armss ").prop('disabled', false);

        }
    });


    $(document).on('click', '.armss[value=4500]', function () {
        if ($(this).is(':checked'))
        {

            $('.armss').not(this).prop('disabled', this.checked);

            $(".armss").prop('checked', false);
            $(".armss[value=4500]").prop('checked', true);
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");ville_first
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);
        }
        else
        {
            var v  =  $('.arms:checked').attr("value").split('|');
            $('input[id=final]').val(0);

            calculate_first_one(v[1]);
            calculate_rubrique_total();
            $(".armss ").prop('disabled', false);

        }
    });
    $(document).on('click', '.armss[value=5800]', function () {
        if ($(this).is(':checked'))
        {

            $('.armss').not(this).prop('disabled', this.checked);

            $(".armss").prop('checked', false);
            $(".armss[value=8450]").prop('checked', true);
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");ville_first
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);
        }
        else
        {
            var v  =  $('.arms:checked').attr("value").split('|');
            $('input[id=final]').val(0);

            calculate_first_one(v[1]);
            calculate_rubrique_total();
            $(".armss ").prop('disabled', false);

        }
    });



    $(document).on('click ', '.armss1', function () {



        var arr = [];

        if($(this).is(":checked")){



            var c   = $(this).attr("value").split('|');


            calculate_localiter_second_r2(c[2],1);
        }
        else{

            var b  = $(this).attr("value").split('|');


            calculate_localiter_second_not_r2(b[2],1);
        }


        $('.armss1:checked').each(function () {

            var v   = $(this).attr("value").split('|');
            arr.push(v[1]);

        });
        if(($(".armss1").is(":checked"))) {


            $("#ville_principe_view_supp_1").text(arr);
            $("#select_ville_principe_supp_1").hide();
            $("#ville_principe_view_supp_1").show();}
        else{
            if ($('.armss1').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_1").html(null);
                $("#ville_principe_view_supp_1").hide();
                $("#select_ville_principe_supp_1").show();

            }
        }

        //     $("#add_here").text(arr);

        calculate_rubrique_total();

    });


    $(document).on('click ', '.armss2', function () {



        var arr = [];

        if($(this).is(":checked")){



            var c   = $(this).attr("value").split('|');


            calculate_localiter_second_r2(c[2],2);
        }
        else{

            var b  = $(this).attr("value").split('|');


            calculate_localiter_second_not_r2(b[2],2);
        }


        $('.armss2:checked').each(function () {

            var v   = $(this).attr("value").split('|');
            arr.push(v[1]);

        });
        if(($(".armss2").is(":checked"))) {


            $("#ville_principe_view_supp_2").text(arr);
            $("#select_ville_principe_supp_2").hide();
            $("#ville_principe_view_supp_2").show();}
        else{
            if ($('.armss2').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_2").html(null);
                $("#ville_principe_view_supp_2").hide();
                $("#select_ville_principe_supp_2").show();

            }
        }

        //     $("#add_here").text(arr);

        calculate_rubrique_total();

    });

    $(document).on('click ', '.armss3', function () {



        var arr = [];

        if($(this).is(":checked")){



            var c   = $(this).attr("value").split('|');


            calculate_localiter_second_r2(c[2],3);
        }
        else{

            var b  = $(this).attr("value").split('|');


            calculate_localiter_second_not_r2(b[2],3);
        }


        $('.armss3:checked').each(function () {

            var v   = $(this).attr("value").split('|');
            arr.push(v[1]);

        });
        if(($(".armss3").is(":checked"))) {


            $("#ville_principe_view_supp_3").text(arr);
            $("#select_ville_principe_supp_3").hide();
            $("#ville_principe_view_supp_3").show();}
        else{
            if ($('.armss3').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_3").html(null);
                $("#ville_principe_view_supp_3").hide();
                $("#select_ville_principe_supp_3").show();

            }
        }

        //     $("#add_here").text(arr);

        calculate_rubrique_total();

    });




    $(document).on('click', '.armss4', function () {



        var arr = [];

        if($(this).is(":checked")){



            var c   = $(this).attr("value").split('|');


            calculate_localiter_second_r2(c[2],4);
        }
        else{

            var b  = $(this).attr("value").split('|');


            calculate_localiter_second_not_r2(b[2],4);
        }


        $('.armss4:checked').each(function () {

            var v   = $(this).attr("value").split('|');
            arr.push(v[1]);

        });
        if(($(".armss4").is(":checked"))) {


            $("#ville_principe_view_supp_4").text(arr);
            $("#select_ville_principe_supp_4").hide();
            $("#ville_principe_view_supp_4").show();}
        else{
            if ($('.armss4').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                // $('#div').css('display', 'none');
                $("#ville_principe_view_supp_4").html(null);
                $("#ville_principe_view_supp_4").hide();
                $("#select_ville_principe_supp_4").show();

            }
        }

        //     $("#add_here").text(arr);

        calculate_rubrique_total();

    });

    $(document).on('change', '.r', function () {

        if(($(".r").is(":checked"))) {

            var labels = $('#myTable :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#rubrique_view").html(labels);
            $("#select_rub").hide();
            $("#rubrique_view").show();




            var current = 	(this);
            var rubrique = (this).value;
            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest1" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest1"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {

                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest1" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);

                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {

                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest1" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);

                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);

                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');


        }
        else{
            if ($('.r').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#rubrique_view").html(null);
                $("#rubrique_view").hide();
                $("#select_rub").show();

            }
        }

    });



    $(document).on('change', '.r1', function () {

        if(($(".r1").is(":checked"))) {

            var labels = $('#myTable1 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#rubrique1_view").html(labels);
            $("#select_rub1").hide();
            $("#rubrique1_view").show();



            var current = 	(this);
            var rubrique = (this).value;
            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div1" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest2" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest2"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {
                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest2" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest2" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');

        }
        else{
            if ($('.r1').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div1').css('display', 'none');
                $("#rubrique1_view").html(null);
                $("#rubrique1_view").hide();
                $("#select_rub1").show();

            }
        }

    });
    $(document).on('change  ', '.r2', function () {


                if(($(".r2").is(":checked"))) {

                    var labels = $('#myTable2 :checked').map(function () {
                        return $(this).closest('label').text();
                    }).get();
                    $("#rubrique2_view").html(labels);
                    $("#select_rub2").hide();
                    $("#rubrique2_view").show();



                    var current = 	(this);
                    var rubrique = (this).value;
                    var b = $(current).attr('name');

                    var res = b.substring(5, 6);
                    var vb = 'prest' + res;
                    var addvb = 'addprest' + res;
                    $('#prestaAjax').css('display', '');
                    var data_send = {'rubrique': rubrique};
                    $.ajax({
                        url: '{{ path('ajax') }}',
                        type: 'POST',
                        data: data_send,
                        statusCode: {
                            //traitement en cas de succès
                            200: function (response) {
                                var successMessage = response;
                                $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                                $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                                $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div2" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                                $.each(JSON.parse(successMessage), function (i, pres) {
                                    if (vb) {
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest3" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                    }
                                    else {
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest3"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                    }
                                    $('#prestaAjax').css('display', 'none');

                                });
                                if (addvb) {
                                    $(document).keypress('.input' + addvb + '', function (event) {
                                        var length_input = $('input.input' + addvb + '').val();
                                        if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                            var text = $('.input' + addvb + '').val();
                                            $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest3" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                            $('.input' + addvb + '').val(null);
                                            $('#prestaAjax').css('display', 'none');
                                            setTimeout(function() {
                                                $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                            }, 100);
                                        }
                                    });
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                                }
                                else {
                                    $(document).keypress('.input', function (e) {
                                        var dInput = $('input.input').val();
                                        if (e.which == 13 && $('input.input').val() != "") {
                                            var text = $('.input').val();
                                            $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest3" value="' + text + '" checked/> ' + text + '</label><br />');
                                            $(".input").val(null);
                                            $('#prestaAjax').css('display', 'none');
                                            setTimeout(function() {
                                                $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                            }, 100);
                                        }
                                    });
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest " placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                                }
                                $('#prestaAjax').css('display', 'none');
                            },
                            412: function (response) {
                                var errorsForm = response.responseJSON.formErrors;
                                alert('error');
                                $('#prestaAjax').css('display', 'none');
                            }
                        }
                    });
                    $('.testpres').css('display','');



                }

                else
                {
                    if ($('.r2').prop('checked', false)) {
                        $('#div2').css('display', 'none');
                        $("#rubrique2_view").html(null);
                        $("#rubrique2_view").hide();
                        $("#select_rub2").show();

                    }
                }
            }
    );


    $(document).on('change  ', '.r3', function () {


                if(($(".r3").is(":checked"))) {




                    var labels = $('#myTable3 :checked').map(function () {
                        return $(this).closest('label').text();
                    }).get();
                    $("#rubrique3_view").html(labels);
                    $("#select_rub3").hide();
                    $("#rubrique3_view").show();






                    var current = 	(this);
                    var rubrique = (this).value;
                    var b = $(current).attr('name');
                    var res = b.substring(5, 6);
                    var vb = 'prest' + res;
                    var addvb = 'addprest' + res;
                    $('#prestaAjax').css('display', '');
                    var data_send = {'rubrique': rubrique};
                    $.ajax({
                        url: '{{ path('ajax') }}',
                        type: 'POST',
                        data: data_send,
                        statusCode: {
                            //traitement en cas de succès
                            200: function (response) {
                                var successMessage = response;
                                $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                                $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                                $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div3" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                                $.each(JSON.parse(successMessage), function (i, pres) {
                                    if (vb) {
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest4" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                    }
                                    else {
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest4"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                    }
                                    $('#prestaAjax').css('display', 'none');
                                });
                                if (addvb) {
                                    $(document).keypress('.input' + addvb + '', function (event) {
                                        var length_input = $('input.input' + addvb + '').val();
                                        if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                            var text = $('.input' + addvb + '').val();
                                            $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest4" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                            $('.input' + addvb + '').val(null);
                                            $('#prestaAjax').css('display', 'none');
                                            setTimeout(function() {
                                                $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                            }, 100);
                                        }
                                    });
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                                }
                                else {
                                    $(document).keypress('.input', function (e) {
                                        var dInput = $('input.input').val();
                                        if (e.which == 13 && $('input.input').val() != "") {
                                            var text = $('.input').val();
                                            $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest4" value="' + text + '" checked/> ' + text + '</label><br />');
                                            $(".input").val(null);
                                            $('#prestaAjax').css('display', 'none');
                                            setTimeout(function() {
                                                $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                            }, 100);
                                        }
                                    });
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                                }
                                $('#prestaAjax').css('display', 'none');
                            },
                            412: function (response) {
                                var errorsForm = response.responseJSON.formErrors;
                                alert('error');
                                $('#prestaAjax').css('display', 'none');
                            }
                        }
                    });
                    $('.testpres').css('display','');




                }

                else
                {
                    if ($('.r3').prop('checked', false)) {
                        $('#div2').css('display', 'none');
                        $("#rubrique3_view").html(null);
                        $("#rubrique3_view").hide();
                        $("#select_rub3").show();

                    }
                }
            }
    );



    $(document).on('change  ', '.r4', function () {


                if(($(".r4").is(":checked"))) {

                    var labels = $('#myTable4 :checked').map(function () {
                        return $(this).closest('label').text();
                    }).get();
                    $("#rubrique4_view").html(labels);
                    $("#select_rub4").hide();
                    $("#rubrique4_view").show();


                    var current = 	(this);
                    var rubrique = (this).value;
                    var b = $(current).attr('name');
                    var res = b.substring(5, 6);
                    var vb = 'prest' + res;
                    var addvb = 'addprest' + res;
                    $('#prestaAjax').css('display', '');
                    var data_send = {'rubrique': rubrique};
                    $.ajax({
                        url: '{{ path('ajax') }}',
                        type: 'POST',
                        data: data_send,
                        statusCode: {
                            //traitement en cas de succès
                            200: function (response) {
                                var successMessage = response;
                                $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                                $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                                $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div4" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                                $.each(JSON.parse(successMessage), function (i, pres) {
                                    if (vb) {
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest5" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                    }
                                    else {
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest5"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                    }
                                    $('#prestaAjax').css('display', 'none');
                                });
                                if (addvb) {
                                    $(document).keypress('.input' + addvb + '', function (event) {
                                        var length_input = $('input.input' + addvb + '').val();
                                        if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                            var text = $('.input' + addvb + '').val();
                                            $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest5" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                            $('.input' + addvb + '').val(null);
                                            $('#prestaAjax').css('display', 'none');
                                            setTimeout(function() {
                                                $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                            }, 100);
                                        }
                                    });
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                                }
                                else {
                                    $(document).keypress('.input', function (e) {
                                        var dInput = $('input.input').val();
                                        if (e.which == 13 && $('input.input').val() != "") {
                                            var text = $('.input').val();
                                            $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest5" value="' + text + '" checked/> ' + text + '</label><br />');
                                            $(".input").val(null);
                                            $('#prestaAjax').css('display', 'none');
                                            setTimeout(function() {
                                                $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                            }, 100);
                                        }
                                    });
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                                }
                                $('#prestaAjax').css('display', 'none');
                            },
                            412: function (response) {
                                var errorsForm = response.responseJSON.formErrors;
                                alert('error');
                                $('#prestaAjax').css('display', 'none');
                            }
                        }
                    });
                    $('.testpres').css('display','');
                }

                else
                {
                    if ($('.r4').prop('checked', false)) {
                        $('#div2').css('display', 'none');
                        $("#rubrique4_view").html(null);
                        $("#rubrique4_view").hide();
                        $("#select_rub4").show();

                    }
                }
            }
    );



    $(document).on('change', '.ville_first', function () {

        if(($(".ville_first").is(":checked"))) {



            var labels = $('#myTable_ville :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view").html(labels);
            $("#select_ville_principe").hide();
            $("#ville_principe_view").show();}
        else{
            if ($('.ville_first').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view").html(null);
                $("#ville_principe_view").hide();
                $("#select_ville_principe").show();

            }
        }

    });



    $(document).on('change', '.ville_first_1', function () {

        if(($(".ville_first_1").is(":checked"))) {



            var labels = $('#myTable_ville_1 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_1").html(labels);
            $("#select_ville_principe_1").hide();
            $("#ville_principe_view_1").show();}
        else{
            if ($('.ville_first_1').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view_1").html(null);
                $("#ville_principe_view_1").hide();
                $("#select_ville_principe_1").show();

            }
        }

    });



    $(document).on('change', '.ville_first_2', function () {

        if(($(".ville_first_2").is(":checked"))) {



            var labels = $('#myTable_ville_2 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_2").html(labels);
            $("#select_ville_principe_2").hide();
            $("#ville_principe_view_2").show();}
        else{
            if ($('.ville_first_2').prop('checked', false)) {


                $('#div').css('display', 'none');
                $("#ville_principe_view_2").html(null);
                $("#ville_principe_view_2").hide();
                $("#select_ville_principe_2").show();

            }
        }

    });


    $(document).on('change', '.ville_first_3', function () {

        if(($(".ville_first_3").is(":checked"))) {



            var labels = $('#myTable_ville_3 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_3").html(labels);
            $("#select_ville_principe_3").hide();
            $("#ville_principe_view_3").show();}
        else{
            if ($('.ville_first_3').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view_3").html(null);
                $("#ville_principe_view_3").hide();
                $("#select_ville_principe_3").show();

            }
        }

    });



    $(document).on('change', '.ville_first_4', function () {

        if(($(".ville_first_4").is(":checked"))) {



            var labels = $('#myTable_ville_4 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_4").html(labels);
            $("#select_ville_principe_4").hide();
            $("#ville_principe_view_4").show();}
        else{
            if ($('.ville_first_4').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view_4").html(null);
                $("#ville_principe_view_4").hide();
                $("#select_ville_principe_4").show();

            }
        }

    });


            $(document).on('change', '.yes_package', function () {


                //
                if($(this).is(":checked")){

                    var num1 = $("#num1").val();
                    var v  =  $('.yes_package:checked').attr("value");


                    $('input[id=final]').val(v);


                }
                else{




                    $('input[id=final]').val(0);

                }

                calculate_rubrique_total();
            });

    $(document).on('change', '#check', function () {

        $(".armss ").prop('disabled', true);
    });

    $(document).on('change', '.arms', function () {


        //
        if($(this).is(":checked")){

            $(".armss ").prop('disabled', false);

            var num1 = $("#num1").val();
            var v  =  $('.arms:checked').attr("value").split('|');

            if(v[0]=='91010') {
                $('#ca').show();
                $('#ra').hide();
                $('#ag').hide();
                $('#ta').hide();
                $('#te').hide();
            }
            if(v[0]=='101010'){
                $('#ra').show();
                $('#ca').hide();
                $('#ag').hide();
                $('#ta').hide();
                $('#te').hide();
            }
            if(v[0]=='41110') {
                $('#ag').show();
                $('#ca').hide();
                $('#ra').hide();
                $('#ta').hide();
                $('#te').hide();
            }
            if(v[0]=='163010'){
                $('#ta').show();
                $('#ca').hide();
                $('#ra').hide();
                $('#ag').hide();
                $('#te').hide();
            }
            if(v[0]=='164010'){
                $('#te').show();
                $('#ca').hide();
                $('#ra').hide();
                $('#ag').hide();
                $('#ta').hide();
            }

            calculate_first_one(v[1]);

            $(" input[value*='"+v[0]+"|'][name='villes_panier[]']").parent().hide();



        }
        else{


            $('#ca').hide();
            $('#ra').hide();
            $('#ag').hide();
            $('#ta').hide();
            $('#te').hide();

            $(".armss").prop('checked', false);
            $('input[id=localiter_supp]').val(0);
            var v  =  $(this).attr("value").split('|');

            $("input[value*='"+v[0]+"|'][name='villes_panier[]']").parent().show();

            $('input[id=final]').val(0);
            $(".armss ").prop('disabled', true);
        }

        calculate_rubrique_total();
    });

    $(document).on('change', '.arms1', function () {


        //
        if($(this).is(":checked")){

            var v  =  $('.arms1:checked').attr("value").split('|');


            calculate_second_one(1,v);

            $(" input[value*='"+v[0]+"|'][name='villes_panier1[]']").parent().hide();

        }
        else{


            var v  =  $(this).attr("value").split('|');

            $("input[value*='"+v[0]+"|'][name='villes_panier1[]']").parent().show();

            $('input[id=rub_supp_1]').val(0);

        }
        calculate_rubrique_total();
    });

    $(document).on('change', '.arms2', function () {


        //
        if($(this).is(":checked")){

            var v  =  $('.arms2:checked').attr("value").split('|');


            calculate_second_one(2,v);

            $(" input[value*='"+v[0]+"|'][name='villes_panier2[]']").parent().hide();

        }
        else{


            var v  =  $(this).attr("value").split('|');

            $("input[value*='"+v[0]+"|'][name='villes_panier2[]']").parent().show();
            $('input[id=rub_supp_2]').val(0);
        }

        calculate_rubrique_total();
    });
    $(document).on('change', '.arms3', function () {


        //
        if($(this).is(":checked")){

            var v  =  $('.arms3:checked').attr("value").split('|');


            calculate_second_one(3,v);

            $(" input[value*='"+v[0]+"|'][name='villes_panier3[]']").parent().hide();

        }
        else{


            var v  =  $(this).attr("value").split('|');

            $("input[value*='"+v[0]+"|'][name='villes_panier3[]']").parent().show();

            $('input[id=rub_supp_3]').val(0);
        }

        calculate_rubrique_total();
    });

    $(document).on('change', '.arms4', function () {


        //
        if($(this).is(":checked")){

            var v  =  $('.arms4:checked').attr("value").split('|');


            calculate_second_one(4,v);


            $(" input[value*='"+v[0]+"|'][name='villes_panier4[]']").parent().hide();

        }
        else{


            var v  =  $(this).attr("value").split('|');

            $("input[value*='"+v[0]+"|'][name='villes_panier4[]']").parent().show();

            $('input[id=rub_supp_4]').val(0);

        }

        calculate_rubrique_total();

    });





    function calculate_first_one(v){


        var rub  =  $('#check:checked').attr("value").split('|');


        console.log(v);

        console.log(rub[1]);




        var base  =  parseInt($('input[id=base]').val());
        var local =  parseInt($('input[id=local]').val());
        var rub1  =  parseInt($('input[id=rub1]').val());
        var rub2  =  parseInt($('input[id=rub2]').val());
        var rub3  =  parseInt($('input[id=rub3]').val());


        if (rub[1]=='RU1'){

            if(v=='1'){
                var b =0;

                b = base + local + rub1;

                $('input[id=final]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;

                b  = base + ((local + rub1)* 0.8);

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b   = base + ((local + rub1)* 0.6);

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b = base + ((local + rub1)* 0.4);

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b = base + ((local + rub1)* 0.3);

                $('input[id=final]').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU2'){


            if(v=='1'){
                var b =0;
                b = base + ((local)+ ((rub2)));

                $('input[id=final]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b = base + ((local * 0.8)+ ((rub2* 0.8) ));

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b = base + ((local * 0.6)+ ((rub2* 0.6) ));

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b = base + ((local * 0.4)+ ((rub2* 0.4)));

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b = base + ((local * 0.3)+ ((rub2* 0.3) ));

                $('input[id=final]').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU3'){

            if(v=='1'){
                var b =0;
                b = base + ((local)+ ((rub3 )));

                $('input[id=final]').val(ceiling(b,50));

            }

            if(v=='2'){

                var b =0;
                console.log('base : '+base);
                console.log('local : '+local);
                console.log('rub3 : '+ rub3);
                b = base +((local * 0.8) + ((rub3  * 0.8) ));

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b = base + ((local * 0.6)+((rub3 * 0.6) ));

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b = base + ((local * 0.4)+ ((rub3 * 0.4) ));

                $('input[id=final]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b = base + ((local * 0.3)+ ((rub3* 0.3) ));

                $('input[id=final]').val(ceiling(b,50));


            }
        }
    }


    function calculate_second_one(c,v){

        var rub =  $('#check'+c+':checked').attr("value").split('|');


        var base  =  parseInt($('input[id=base]').val());
        var local =  parseInt($('input[id=local]').val());
        var rub1  =  parseInt($('input[id=rub1]').val());
        var rub2  =  parseInt($('input[id=rub2]').val());
        var rub3  =  parseInt($('input[id=rub3]').val());


        if (rub[1]=='RU1'){

            if(v[1]=='1'){
                var b =0;
                b = local + rub1;
                console.log('b before'+b);
                b = b * 0.5;
                console.log('b after'+b);
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }

            if(v[1]=='2'){
                var b =0;
                b =  ((local + rub1)* 0.8);

                b = b* 0.5;

                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='3'){
                var b =0;
                b =   ((local + rub1)* 0.6);
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='4'){
                var b =0;
                b =   ((local + rub1)* 0.4);
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='5'){
                var b =0;
                b =  ((local + rub1)* 0.3);
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU2'){


            if(v[1]=='1'){
                var b =0;
                b =   ((local)+ ((rub2)));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }

            if(v[1]=='2'){
                var b =0;
                b =   ((local * 0.8)+ ((rub2* 0.8)));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='3'){
                var b =0;
                b =   ((local * 0.6)+ ((rub2* 0.6)));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='4'){
                var b =0;
                b =   ((local * 0.4)+ ((rub2* 0.4)));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='5'){
                var b =0;
                b =   ((local * 0.3)+ ((rub2* 0.3) ));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU3'){

            if(v[1]=='1'){
                var b =0;
                b =   ((local)+ ((rub3)));
                b = b * 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }

            if(v[1]=='2'){
                var b =0;
                b =  ((local * 0.8)+ ((rub3*  0.8) ));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='3'){
                var b =0;
                b =   ((local * 0.6)+((rub3* 0.6) ));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='4'){
                var b =0;
                b =   ((local * 0.4)+ ((rub3* 0.4) ));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

            }
            if(v[1]=='5'){
                var b =0;
                b =  ((local * 0.3)+ ((rub3* 0.3)));
                b = b* 0.5;
                $('input[id=rub_supp_'+c+']').val(ceiling(b,50));


            }
        }
    }




    function calculate_localiter_second(v){


        var rub =  $('#check:checked').attr("value").split('|');




        var base       =  parseInt($('input[id=base]').val());
        var local      =  parseInt($('input[id=local]').val());
        var rub1       =  parseInt($('input[id=rub1]').val());
        var rub2       =  parseInt($('input[id=rub2]').val());
        var rub3       =  parseInt($('input[id=rub3]').val());
        var localiter  =  parseInt($('input[id=localiter_supp]').val());


        if (rub[1]=='RU1'){

            if(v=='1'){
                var b =0;
                b = local + rub1;
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =  ((local + rub1)* 0.8);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =  ((local + rub1)* 0.6);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =   ((local + rub1)* 0.4);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local + rub1)* 0.3);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU2'){


            if(v=='1'){
                var b =0;
                b =  ((local)+ ((rub2)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =  ((local * 0.8)+ ((rub2* 0.8)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =  ((local * 0.6)+ ((rub2* 0.6) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =   ((local * 0.4)+ ((rub2* 0.4) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local * 0.3)+ ((rub2* 0.3) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU3'){

            if(v=='1'){
                var b =0;
                b =  ((local)+ ((rub3)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;

                b = ((local * 0.8)+ ((rub3 *  0.8) ));
                b = b * 0.5 ;

                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b = ((local * 0.6)+((rub3* 0.6) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =  ((local * 0.4)+ ((rub3* 0.4)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local * 0.3)+ ((rub3* 0.3) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp]').val(ceiling(b,50));


            }
        }
    }







    function calculate_localiter_second_not(v){


        var rub =  $('#check:checked').attr("value").split('|');




        var base       =  parseInt($('input[id=base]').val());
        var local      =  parseInt($('input[id=local]').val());
        var rub1       =  parseInt($('input[id=rub1]').val());
        var rub2       =  parseInt($('input[id=rub2]').val());
        var rub3       =  parseInt($('input[id=rub3]').val());
        var localiter  =  parseInt($('input[id=localiter_supp]').val());


        if (rub[1]=='RU1'){

            if(v=='1'){
                var b =0;
                b =  local + rub1;
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =   ((local + rub1)* 0.8);
                b = b * 0.5 ;

                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =   ((local + rub1)* 0.6);
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =  ((local + rub1)* 0.4);
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =   ((local + rub1)* 0.3);
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU2'){


            if(v=='1'){
                var b =0;
                b =  ((local)+ ((rub2)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =   ((local * 0.8)+ ((rub2* 0.8) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =   ((local * 0.6)+ ((rub2* 0.6) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =   ((local * 0.4)+ ((rub2* 0.4) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =   ((local * 0.3)+ ((rub2* 0.3) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU3'){

            if(v=='1'){

                var b =0;

                b =  ((local)+ ((rub3 )));

                b = b * 0.5 ;

                b = localiter - ceiling(b,50);

                $('input[id=localiter_supp]').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;

                b =  ((local * 0.8)+ ((rub3*  0.8)));
                b = b * 0.5 ;

                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =   ((local * 0.6)+((rub3* 0.6)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =  ((local * 0.4)+ ((rub3* 0.4) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local * 0.3)+ ((rub3* 0.3) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp]').val(ceiling(b,50));


            }
        }
    }










    function calculate_localiter_second_r2(v,k){


        var rub =  $('#check'+k+':checked').attr("value").split('|');




        var base       =  parseInt($('input[id=base]').val());
        var local      =  parseInt($('input[id=local]').val());
        var rub1       =  parseInt($('input[id=rub1]').val());
        var rub2       =  parseInt($('input[id=rub2]').val());
        var rub3       =  parseInt($('input[id=rub3]').val());
        var localiter  =  parseInt($('input[id=localiter_supp'+k+']').val());


        if (rub[1]=='RU1'){

            if(v=='1'){
                var b =0;
                b = local + rub1;
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =  ((local + rub1)* 0.8);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =  ((local + rub1)* 0.6);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =   ((local + rub1)* 0.4);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local + rub1)* 0.3);
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU2'){


            if(v=='1'){
                var b =0;
                b =  ((local)+ ((rub2)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =  ((local * 0.8)+ ((rub2* 0.8) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =  ((local * 0.6)+ ((rub2* 0.6)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =   ((local * 0.4)+ ((rub2* 0.4)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local * 0.3)+ ((rub2* 0.3) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU3'){

            if(v=='1'){
                var b =0;
                b =  ((local)+ ((rub3)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;

                b = ((local * 0.8)+ ((rub3*  0.8)));
                b = b * 0.5 ;

                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b = ((local * 0.6)+((rub3* 0.6) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =  ((local * 0.4)+ ((rub3* 0.4) ));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local * 0.3)+ ((rub3* 0.3)));
                b = b * 0.5 ;
                b = localiter + b;
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


            }
        }
    }







    function calculate_localiter_second_not_r2(v,k){


        var rub =  $('#check'+k+':checked').attr("value").split('|');




        var base       =  parseInt($('input[id=base]').val());
        var local      =  parseInt($('input[id=local]').val());
        var rub1       =  parseInt($('input[id=rub1]').val());
        var rub2       =  parseInt($('input[id=rub2]').val());
        var rub3       =  parseInt($('input[id=rub3]').val());
        var localiter  =  parseInt($('input[id=localiter_supp'+k+']').val());


        if (rub[1]=='RU1'){

            if(v=='1'){
                var b =0;
                b =  local + rub1;
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =   ((local + rub1)* 0.8);
                b = b * 0.5 ;

                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =   ((local + rub1)* 0.6);
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =  ((local + rub1)* 0.4);
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =   ((local + rub1)* 0.3);
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU2'){


            if(v=='1'){
                var b =0;
                b =  ((local)+ ((rub2)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;
                b =   ((local * 0.8)+ ((rub2* 0.8)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =   ((local * 0.6)+ ((rub2* 0.6)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =   ((local * 0.4)+ ((rub2* 0.4) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =   ((local * 0.3)+ ((rub2* 0.3)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


            }

        }
        if (rub[1]=='RU3'){

            if(v=='1'){

                var b =0;

                b =  ((local)+ ((rub3 )));

                b = b * 0.5 ;

                b = localiter - ceiling(b,50);

                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }

            if(v=='2'){
                var b =0;

                b =  ((local * 0.8)+ ((rub3*  0.8)));
                b = b * 0.5 ;

                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='3'){
                var b =0;
                b =   ((local * 0.6)+((rub3* 0.6)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='4'){
                var b =0;
                b =  ((local * 0.4)+ ((rub3* 0.4)));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

            }
            if(v=='5'){
                var b =0;
                b =  ((local * 0.3)+ ((rub3* 0.3) ));
                b = b * 0.5 ;
                b = localiter - ceiling(b,50);
                $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


            }
        }
    }

    $("#num1,#num2").on("keydown keyup change load ", function()  {

        var sum = parseInt($('input[name=sum]').val());
        var num2 = parseInt($('input[name=num2]').val());
        var nbr_prestattion = Math.ceil(parseInt(sum+num2));
        document.getElementById("nbr_prestattion").value = nbr_prestattion ;

    });
    $("#num1").on("keydown keyup change load  ", function() {
        var num1 = $("#num1").val();
        document.getElementById('nbr_rubrique').value = num1;
        if (num1 == 0) {
            $("#rubrique").show();
            $("#select_rub_prest").hide();
            $("#select_rub_prest1").hide();
            $("#select_rub_prest2").hide();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();
            $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

        }
        else
        if(num1==1)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").hide();
            $("#select_rub_prest2").hide();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();

            $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==2)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").hide();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();


            $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==3)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").hide();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();



            $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==4)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").hide();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();

            $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
        }
        else
        if(num1==5)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest5").hide();
            $("#select_rub_prest6").hide();
            $('.r5,.r6,.prest6,.prest7').prop('checked', false);


        }
        else
        if(num1==6)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest5").show();
            $("#select_rub_prest6").hide();
            $('.r6,.prest7').prop('checked', false);
        }
        else
        if(num1==7)
        {
            $("#rubrique").show();
            $("#select_rub_prest").show();
            $("#select_rub_prest1").show();
            $("#select_rub_prest2").show();
            $("#select_rub_prest3").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest4").show();
            $("#select_rub_prest5").show();
            $("#select_rub_prest6").show();
        }
        $('.loaders').css('display','');
        var nbr_rub =$('input[name=num1]').val();
        /*alert(nbr_rub)*/
        var data_send  = {'nbr_rub':nbr_rub};
        $.ajax({
            url: '{{ path('referencement_commande_devis_des_rub_nbr_rub') }}',
            type: 'POST',
            data: data_send,
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;

                    console.log(successMessage);
                    /*  $('#prestation').children("option").remove();*/
                    //on vide les champs formulaires ou on le supprime ou ...
                    //on retire le loader...
                    //window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";

                    $('.loaders').css('display','none');
                },
                //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');
                }
            }
        });
        /*else
         {
         $("#rubrique").show();
         $("#select_rub_prest").show();
         $("#select_rub_prest1").show();
         }*/

        $('#prestaAjax').css('display','');
        if($('.region').is(':checked')){
            Reg();
            $('#prestaAjax').css('display','none');
        }
        else if('.my-activitys') {
            rub();
            $('#prestaAjax').css('display','none');
        }
        else{
            $('input[id=rubd]').val(0);
        }
        var num1 = document.getElementById('num1').value;
        var result = parseInt(num1) * 3;
        document.getElementById('sum').value = result;
        cal();
        kas();

    });

    /*        $("#num1").on("keydown keyup change load  ", function() {
     var num1 = $("#num1").val();
     document.getElementById('nbr_rubrique').value = num1;
     if (num1 == 0) {
     $("#rubrique").show();
     $("#select_rub_prest").hide();
     $("#select_rub_prest1").hide();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();
     $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

     }
     else if (num1 == 1) {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").hide();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();

     $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else if (num1 == 2) {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();


     $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else if (num1 == 3) {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();


     $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else if (num1 == 4) {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();

     $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else if (num1 == 5) {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();
     $('.r5,.r6,.prest6,.prest7').prop('checked', false);


     }
     else if (num1 == 6) {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").show();
     $("#select_rub_prest6").hide();
     $('.r6,.prest7').prop('checked', false);
     }
     else if (num1 == 7) {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").show();
     $("#select_rub_prest6").show();
     }
     });*/

/*    $(".yes_package   input[name='villes_package']").on('change',function() {


        if(($(".yes_package  input[name='villes_package']").is(":checked")))
        {


            $('.yes_package ').not(this).prop('disabled', this.checked);
            $(".yes_package  input[name='villes_package']:disabled").css('display', 'none');
            $(".yes_package  input[name='villes_package']:disabled + h7 ").css('display', 'none');
            $(".yes_package  input[name='villes_package']").css('float', 'left');
            $(".yes_package  input[name='villes_package']").css('clear', 'left');
            /!*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*!/
            $('.label_rub').css("margin-left", 21);


        }
        else
        if ($(".yes_package  input[name='villes_package']").prop('checked', false))
        {




            $(".yes_package  input[name='villes_package']").css("position", "absolute");
            $(".yes_package  input[name='villes_package']:disabled").css('display', '');
            $(".yes_package  input[name='villes_package']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);


        }
    });

    $(".yes_package  input[name='villes_package']").on('change  ',function() {
        $(".yes_package  input[name='villes_package']").not(this).prop('disabled', this.checked);
    });

    $(window).load(function() {

        if(($(".yes_package  input[name='villes_package']").is(":checked"))) {
            $(".yes_package  input[name='villes_package']").prop('disabled', true);
            $(".yes_package  input[name='villes_package']:checked").removeAttr('disabled');
            $(".yes_package  input[name='villes_package']:disabled").css('display', 'none');
            $(".yes_package  input[name='villes_package']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".yes_package  input[name='villes_package']").prop('checked', false)) {
            $(".yes_package  input[name='villes_package']").prop('disabled', false);
            $(".yes_package  input[name='villes_package']:checked").removeAttr('disabled');
            $(".yes_package  input[name='villes_package']:disabled").css('display', '');
            $(".yes_package  input[name='villes_package']:disabled + h7").css('display', '');
        }
    });

 */


    $(".ville1  input[name='villes1']").on('change',function() {


        if(($(".ville1 input[name='villes1']").is(":checked")))
        {


            $('.ville1').not(this).prop('disabled', this.checked);
            $(".ville1 input[name='villes1']:disabled").css('display', 'none');
            $(".ville1 input[name='villes1']:disabled + h7 ").css('display', 'none');
            $(".ville1 input[name='villes1']").css('float', 'left');
            $(".ville1 input[name='villes1']").css('clear', 'left');
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);


        }
        else
        if ($(".ville1 input[name='villes1']").prop('checked', false))
        {




            $(".ville1 input[name='villes1']").css("position", "absolute");
            $(".ville1 input[name='villes1']:disabled").css('display', '');
            $(".ville1 input[name='villes1']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);


        }
    });

    $(".ville1 input[name='villes1']").on('change  ',function() {
        $(".ville1 input[name='villes1']").not(this).prop('disabled', this.checked);
    });


    $(window).load(function() {

        if(($(".ville1 input[name='villes1']").is(":checked"))) {
            $(".ville1 input[name='villes1']").prop('disabled', true);
            $(".ville1 input[name='villes1']:checked").removeAttr('disabled');
            $(".ville1 input[name='villes1']:disabled").css('display', 'none');
            $(".ville1 input[name='villes1']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".ville1 input[name='villes1']").prop('checked', false)) {
            $(".ville1 input[name='villes1']").prop('disabled', false);
            $(".ville1 input[name='villes1']:checked").removeAttr('disabled');
            $(".ville1 input[name='villes1']:disabled").css('display', '');
            $(".ville1 input[name='villes1']:disabled + h7").css('display', '');
        }
    });





    $(".ville input[name='villes']").on('change  ',function() {

        if(($(".ville input[name='villes']").is(":checked")))
        {

            $('.ville').not(this).prop('disabled', this.checked);
            $(".ville input[name='villes']:disabled").css('display', 'none!important');
            $(".ville input[name='villes']:disabled + h7 ").css('display', 'none');
            $(".ville input[name='villes']").css('float', 'left');
            $(".ville input[name='villes']").css('clear', 'left');
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".ville input[name='villes']").prop('checked', false))
        {
            $(".ville input[name='villes']").css("position", "absolute");
            $(".ville input[name='villes']:disabled").css('display', '');
            $(".ville input[name='villes']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });

    $(".ville input[name='villes']").on('change  ',function() {
        $(".ville input[name='villes']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".ville input[name='villes']").is(":checked"))) {
            $(".ville input[name='villes']").prop('disabled', true);
            $(".ville input[name='villes']:checked").removeAttr('disabled');
            $(".ville input[name='villes']:disabled").css('display', 'none');
            $(".ville input[name='villes']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".ville input[name='villes']").prop('checked', false)) {
            $(".ville input[name='villes']").prop('disabled', false);
            $(".ville input[name='villes']:checked").removeAttr('disabled');
            $(".ville input[name='villes']:disabled").css('display', '');
            $(".ville input[name='villes']:disabled + h7").css('display', '');
        }
    });


    $(".r input[name='check']").on('change  ',function() {

        if(($(".r input[name='check']").is(":checked")))
        {
            $('.r').not(this).prop('disabled', this.checked);
            $(".r input[name='check']:disabled").css('display', 'none');
            $(".r input[name='check']:disabled + h7 ").css('display', 'none');
            $(".r input[name='check']").css('float', 'left');
            $(".r input[name='check']").css('clear', 'left');
            /*$('.r').css("position", "absolute");
             $('.r').css("margin-top", "auto");
             $('.r').css("margin-bottom", "auto");
             $('.r').css("top", -8);
             $('.r').css("bottom", 0);*/
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".r input[name='check']").prop('checked', false))
        {
            $(".r input[name='check']").css("position", "absolute");
            $(".r input[name='check']:disabled").css('display', '');
            $(".r input[name='check']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });



    $(".r input[name='check']").on('change  ',function() {
        $(".r input[name='check']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".r input[name='check']").is(":checked"))) {
            $(".r input[name='check']").prop('disabled', true);
            $(".r input[name='check']:checked").removeAttr('disabled');
            $(".r input[name='check']:disabled").css('display', 'none');
            $(".r input[name='check']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".r input[name='check']").prop('checked', false)) {
            $(".r input[name='check']").prop('disabled', false);
            $(".r input[name='check']:checked").removeAttr('disabled');
            $(".r input[name='check']:disabled").css('display', '');
            $(".r input[name='check']:disabled + h7").css('display', '');
        }
    });
    /*---------------------------------------------------------------------------*/

    $(".r1 input[name='check1']").on('change  ',function() {

        if(($(".r1 input[name='check1']").is(":checked")))
        {
            $('.r1').not(this).prop('disabled', this.checked);
            $(".r1 input[name='check1']:disabled").css('display', 'none');
            $(".r1 input[name='check1']:disabled + h7 ").css('display', 'none');
            $(".r1 input[name='check1']").css('float', 'left');
            $(".r1 input[name='check1']").css('clear', 'left');
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".r1 input[name='check1']").prop('checked', false))
        {
            $(".r1 input[name='check1']").css("position", "absolute");
            $(".r1 input[name='check1']:disabled").css('display', '');
            $(".r1 input[name='check1']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });

    $(".r1 input[name='check1']").on('change  ',function() {
        $(".r1 input[name='check1']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".r1 [name='check1']").is(":checked"))) {
            $(".r1 input[name='check1']").prop('disabled', true);
            $(".r1 input[name='check1']:checked").removeAttr('disabled');
            $(".r1 input[name='check1']:disabled").css('display', 'none');
            $(".r1 input[name='check1']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".r1[name='check1']").prop('checked', false)) {
            $(".r1 input[name='check1']").prop('disabled', false);
            $(".r1 input[name='check1']:checked").removeAttr('disabled');
            $(".r1 input[name='check1']:disabled").css('display', '');
            $(".r1 input[name='check1']:disabled + h7").css('display', '');
        }
    });
    /*---------------------------------------------------------------------------*/

    $(".r2 input[name='check2']").on('change  ',function() {

        if(($(".r2 input[name='check2']").is(":checked")))
        {
            $('.r2').not(this).prop('disabled', this.checked);
            $(".r2 input[name='check2']:disabled").css('display', 'none');
            $(".r2 input[name='check2']:disabled + h7 ").css('display', 'none');
            $(".r2 input[name='check2']").css('float', 'left');
            $(".r2 input[name='check2']").css('clear', 'left');
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".r2 input[name='check2']").prop('checked', false))
        {
            $(".r2 input[name='check2']").css("position", "absolute");
            $(".r2 input[name='check2']:disabled").css('display', '');
            $(".r2 input[name='check2']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });

    $(".r2 input[name='check2']").on('change  ',function() {
        $(".r2 input[name='check2']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".r2 [name='check2']").is(":checked"))) {
            $(".r2 input[name='check2']").prop('disabled', true);
            $(".r2 input[name='check2']:checked").removeAttr('disabled');
            $(".r2 input[name='check2']:disabled").css('display', 'none');
            $(".r2 input[name='check2']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".r2 [name='check2']").prop('checked', false)) {
            $(".r2 input[name='check2']").prop('disabled', false);
            $(".r1 input[name='check2']:checked").removeAttr('disabled');
            $(".r2 input[name='check2']:disabled").css('display', '');
            $(".r2 input[name='check2']:disabled + h7").css('display', '');
        }
    });

    /*---------------------------------------------------------------------------*/

    $(".r3 input[name='check3']").on('change  ',function() {

        if(($(".r3 input[name='check3']").is(":checked")))
        {
            $('.r3').not(this).prop('disabled', this.checked);
            $(".r3 input[name='check3']:disabled").css('display', 'none');
            $(".r3 input[name='check3']:disabled + h7 ").css('display', 'none');
            $(".r3 input[name='check3']").css('float', 'left');
            $(".r3 input[name='check3']").css('clear', 'left');
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".r3 input[name='check3']").prop('checked', false))
        {
            $(".r3 input[name='check3']").css("position", "absolute");
            $(".r3 input[name='check3']:disabled").css('display', '');
            $(".r3 input[name='check3']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });

    $(".r3 input[name='check3']").on('change  ',function() {
        $(".r3 input[name='check3']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".r3 [name='check3']").is(":checked"))) {
            $(".r3 input[name='check3']").prop('disabled', true);
            $(".r3 input[name='check3']:checked").removeAttr('disabled');
            $(".r3 input[name='check3']:disabled").css('display', 'none');
            $(".r3 input[name='check3']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".r3 [name='check3']").prop('checked', false)) {
            $(".r2 input[name='check2']").prop('disabled', false);
            $(".r3 input[name='check3']:checked").removeAttr('disabled');
            $(".r3 input[name='check3']:disabled").css('display', '');
            $(".r3 input[name='check3']:disabled + h7").css('display', '');
        }
    });


    /*---------------------------------------------------------------------------*/

    $(".r4 input[name='check4']").on('change  ',function() {

        if(($(".r4 input[name='check4']").is(":checked")))
        {
            $('.r4').not(this).prop('disabled', this.checked);
            $(".r4 input[name='check4']:disabled").css('display', 'none');
            $(".r4 input[name='check4']:disabled + h7 ").css('display', 'none');
            $(".r4 input[name='check4']").css('float', 'left');
            $(".r4 input[name='check4']").css('clear', 'left');
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".r4 input[name='check4']").prop('checked', false))
        {
            $(".r4 input[name='check4']").css("position", "absolute");
            $(".r4 input[name='check4']:disabled").css('display', '');
            $(".r4 input[name='check4']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });

    $(".r4 input[name='check4']").on('change  ',function() {
        $(".r4 input[name='check4']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".r4 [name='check4']").is(":checked"))) {
            $(".r4 input[name='check4']").prop('disabled', true);
            $(".r4 input[name='check4']:checked").removeAttr('disabled');
            $(".r4 input[name='check4']:disabled").css('display', 'none');
            $(".r4 input[name='check4']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".r4 [name='check4']").prop('checked', false)) {
            $(".r4 input[name='check4']").prop('disabled', false);
            $(".r4 input[name='check4']:checked").removeAttr('disabled');
            $(".r4 input[name='check4']:disabled").css('display', '');
            $(".r4 input[name='check4']:disabled + h7").css('display', '');
        }
    });


    /*---------------------------------------------------------------------------*/

    $(".r5 input[name='check5']").on('change  ',function() {

        if(($(".r5 input[name='check5']").is(":checked")))
        {
            $('.r5').not(this).prop('disabled', this.checked);
            $(".r5 input[name='check5']:disabled").css('display', 'none');
            $(".r5 input[name='check5']:disabled + h7 ").css('display', 'none');
            $(".r5 input[name='check5']").css('float', 'left');
            $(".r5 input[name='check5']").css('clear', 'left');
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".r5 input[name='check5']").prop('checked', false))
        {
            $(".r5 input[name='check5']").css("position", "absolute");
            $(".r5 input[name='check5']:disabled").css('display', '');
            $(".r5 input[name='check5']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });

    $(".r5 input[name='check5']").on('change  ',function() {
        $(".r5 input[name='check5']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".r5 [name='check5']").is(":checked"))) {
            $(".r5 input[name='check5']").prop('disabled', true);
            $(".r5 input[name='check5']:checked").removeAttr('disabled');
            $(".r5 input[name='check5']:disabled").css('display', 'none');
            $(".r5 input[name='check5']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".r5 [name='check5']").prop('checked', false)) {
            $(".r5 input[name='check5']").prop('disabled', false);
            $(".r5 input[name='check5']:checked").removeAttr('disabled');
            $(".r5 input[name='check5']:disabled").css('display', '');
            $(".r5 input[name='check5']:disabled + h7").css('display', '');
        }
    });


    $(".r6 input[name='check6']").on('change  ',function() {

        if(($(".r6 input[name='check6']").is(":checked")))
        {
            $('.r6').not(this).prop('disabled', this.checked);
            $(".r6 input[name='check6']:disabled").css('display', 'none');
            $(".r6 input[name='check6']:disabled + h7 ").css('display', 'none');
            $(".r6 input[name='check6']").css('float', 'left');
            $(".r6 input[name='check6']").css('clear', 'left');
            $('.label_rub').css("margin-left", 21);
        }else
        if ($(".r6 input[name='check6']").prop('checked', false))
        {
            $(".r6 input[name='check6']").css("position", "absolute");
            $(".r6 input[name='check6']:disabled").css('display', '');
            $(".r6 input[name='check6']:disabled + h7").css('display', '');
            $('.label_rub').css("margin-left", 18);
        }
    });

    $(".r6 input[name='check6']").on('change  ',function() {
        $(".r6 input[name='check6']").not(this).prop('disabled', this.checked);
    });
    $(window).load(function() {

        if(($(".r6 [name='check6']").is(":checked"))) {
            $(".r6 input[name='check6']").prop('disabled', true);
            $(".r6 input[name='check6']:checked").removeAttr('disabled');
            $(".r6 input[name='check6']:disabled").css('display', 'none');
            $(".r6 input[name='check6']:disabled + h7").css('display', 'none');
        }
        else
        if ($(".r6 [name='check6']").prop('checked', false)) {
            $(".r6 input[name='check6']").prop('disabled', false);
            $(".r6 input[name='check6']:checked").removeAttr('disabled');
            $(".r6 input[name='check6']:disabled").css('display', '');
            $(".r6 input[name='check6']:disabled + h7").css('display', '');
        }
    });

    function calculate_rubrique_total(){

        var final            =  parseInt($('input[id=final]').val());
        var rub_supp_1       =  parseInt($('input[id=rub_supp_1]').val());
        var rub_supp_2       =  parseInt($('input[id=rub_supp_2]').val());
        var rub_supp_3       =  parseInt($('input[id=rub_supp_3]').val());
        var rub_supp_4       =  parseInt($('input[id=rub_supp_4]').val());
        var rub_supp_5       =  parseInt($('input[id=rub_supp_5]').val());
        var rub_supp_6       =  parseInt($('input[id=rub_supp_6]').val());
        var rub_supp_7       =  parseInt($('input[id=rub_supp_7]').val());

        var localiter_supp   =  parseInt($('input[id=localiter_supp]').val());
        var localiter_supp1   =  parseInt($('input[id=localiter_supp1]').val());
        var localiter_supp2   =  parseInt($('input[id=localiter_supp2]').val());
        var localiter_supp3   =  parseInt($('input[id=localiter_supp3]').val());
        var localiter_supp4   =  parseInt($('input[id=localiter_supp4]').val());
        var localiter_supp5   =  parseInt($('input[id=localiter_supp5]').val());
        var localiter_supp6   =  parseInt($('input[id=localiter_supp6]').val());
        var localiter_supp7   =  parseInt($('input[id=localiter_supp7]').val());

        var total = final + rub_supp_1 + rub_supp_2 + rub_supp_3 + rub_supp_4 + rub_supp_5 + rub_supp_6 + rub_supp_7 + localiter_supp + localiter_supp1  + localiter_supp2  + localiter_supp3 + localiter_supp4 + localiter_supp5 + localiter_supp6 + localiter_supp7 + parseInt($("#resulta").val()) +parseInt($("#mari").val())  ;

        if($(".profession").is(":checked") === true){
            total=total+3000;
        }
        $('input[id="fayssal"]').val(total);




 /*       var fayssal1 = $("#fayssal").val();
        var fayssal = fayssal1.replace(/[^0-9\.]/g, '');*/

        kas();
    }


    var selectfct = function () {








        if($(".r").is(":checked")){



            var rub =  $('#check:checked').attr("value").split('|');


            $(" input[value*='"+rub[0]+"|']").parent().hide();
            $(".r input[value*='"+rub[0]+"|").parent().show();


            $('.arms').prop('disabled', false);

            $('.armss').prop('disabled', false);


        }else{


            var rub =  $(this).attr("value").split('|');
            $(" input[value*='"+rub[0]+"|").parent().show();


            $(".arms").prop('disabled', 'disabled');

            $('.armss').prop('disabled', 'disabled');

            $('.arms').prop('checked', false);

            $('.armss').prop('checked', false);


            $('input[id=localiter_supp]').val(0);
            $('input[id=final]').val(0);

            calculate_rubrique_total();

            $("#ville_principe_view_supp").html(null);
            $("#ville_principe_view_supp").hide();
            $("#select_ville_principe_supp").show();



            $("#ville_principe_view").html(null);
            $("#ville_principe_view").hide();
            $("#select_ville_principe").show();
        }
    };
    $(selectfct);

    $(".r").click(selectfct);



    var selectfct1 = function () {

        if($(".r1").is(":checked")){


            var rub =  $('#check1:checked').attr("value").split('|');


            $(" input[value*='"+rub[0]+"|']").parent().hide();
            $(".r1 input[value*='"+rub[0]+"|").parent().show();


            $('.arms1').prop('disabled', false);

            $('.armss1').prop('disabled', false);


        }else{

            var rub =  $(this).attr("value").split('|');
            $(" input[value*='"+rub[0]+"|").parent().show();


            $(".arms1").prop('disabled', 'disabled');

            $('.armss1').prop('disabled', 'disabled');

            $('.arms1').prop('checked', false);

            $('.armss1').prop('checked', false);


            $('input[id=rub_supp_1]').val(0);
            $('input[id=localiter_supp1]').val(0);

            calculate_rubrique_total();

            $("#ville_principe_view_supp_1").html(null);
            $("#ville_principe_view_supp_1").hide();
            $("#select_ville_principe_supp_1").show();



            $("#ville_principe_view_1").html(null);
            $("#ville_principe_view_1").hide();
            $("#select_ville_principe_1").show();
        }
    };

    $(selectfct1);

    $(".r1").click(selectfct1);





    var selectfct2 = function () {






        if($(".r2").is(":checked")){


            var rub =  $('#check2:checked').attr("value").split('|');


            $(" input[value*='"+rub[0]+"|']").parent().hide();
            $(".r2 input[value*='"+rub[0]+"|").parent().show();


            $('.arms2').prop('disabled', false);

            $('.armss2').prop('disabled', false);


        }else{

            var rub =  $(this).attr("value").split('|');
            $(" input[value*='"+rub[0]+"|").parent().show();


            $(".arms2").prop('disabled', 'disabled');

            $('.armss2').prop('disabled', 'disabled');

            $('.arms2').prop('checked', false);

            $('.armss2').prop('checked', false);


            $('input[id=rub_supp_2]').val(0);
            $('input[id=localiter_supp2]').val(0);

            calculate_rubrique_total();

            $("#ville_principe_view_supp_2").html(null);
            $("#ville_principe_view_supp_2").hide();
            $("#select_ville_principe_supp_2").show();



            $("#ville_principe_view_2").html(null);
            $("#ville_principe_view_2").hide();
            $("#select_ville_principe_2").show();
        }
    };

    $(selectfct2);

    $(".r2").click(selectfct2);




    var selectfct3 = function () {


        if($(".r3").is(":checked")){


            var rub =  $('#check3:checked').attr("value").split('|');


            $(" input[value*='"+rub[0]+"|']").parent().hide();
            $(".r3 input[value*='"+rub[0]+"|").parent().show();


            $('.arms3').prop('disabled', false);

            $('.armss3').prop('disabled', false);


        }else{

            var rub =  $(this).attr("value").split('|');
            $(" input[value*='"+rub[0]+"|").parent().show();


            $(".arms3").prop('disabled', 'disabled');

            $('.armss3').prop('disabled', 'disabled');

            $('.arms3').prop('checked', false);

            $('.armss3').prop('checked', false);


            $('input[id=rub_supp_3]').val(0);
            $('input[id=localiter_supp3]').val(0);

            calculate_rubrique_total();

            $("#ville_principe_view_supp_3").html(null);
            $("#ville_principe_view_supp_3").hide();
            $("#select_ville_principe_supp_3").show();



            $("#ville_principe_view_3").html(null);
            $("#ville_principe_view_3").hide();
            $("#select_ville_principe_3").show();
        }
    };

    $(selectfct3);

    $(".r3").click(selectfct3);


    var selectfct4 = function () {


        if($(".r4").is(":checked")){




            var rub =  $('#check4:checked').attr("value").split('|');


            $(" input[value*='"+rub[0]+"|']").parent().hide();
            $(".r4 input[value*='"+rub[0]+"|").parent().show();


            $('.arms4').prop('disabled', false);

            $('.armss4').prop('disabled', false);


        }else{

            var rub =  $(this).attr("value").split('|');
            $(" input[value*='"+rub[0]+"|").parent().show();

            $(".arms4").prop('disabled', 'disabled');

            $('.armss4').prop('disabled', 'disabled');

            $('.arms4').prop('checked', false);

            $('.armss4').prop('checked', false);


            $('input[id=rub_supp_4]').val(0);
            $('input[id=localiter_supp4]').val(0);

            calculate_rubrique_total();

            $("#ville_principe_view_supp_4").html(null);
            $("#ville_principe_view_supp_4").hide();
            $("#select_ville_principe_supp_4").show();



            $("#ville_principe_view_4").html(null);
            $("#ville_principe_view_4").hide();
            $("#select_ville_principe_4").show();
        }
    };

    $(selectfct4);

    $(".r4").click(selectfct4);


    var selectfct5 = function () {


        if($(".r5").is(":checked")){

            $('.arms5').prop('disabled', false);

            $('.armss5').prop('disabled', false);


        }else{

            var rub =  $(this).attr("value").split('|');
            $(" input[value*='"+rub[0]+"|").parent().show();


            $(".arms5").prop('disabled', 'disabled');

            $('.armss5').prop('disabled', 'disabled');

            $('.arms5').prop('checked', false);

            $('.armss5').prop('checked', false);


            $('input[id=rub_supp_5]').val(0);
            $('input[id=localiter_supp5]').val(0);

            calculate_rubrique_total();

            $("#ville_principe_view_supp_5").html(null);
            $("#ville_principe_view_supp_5").hide();
            $("#select_ville_principe_supp_5").show();



            $("#ville_principe_view_5").html(null);
            $("#ville_principe_view_5").hide();
            $("#select_ville_principe_5").show();
        }
    };

    $(selectfct5);

    $(".r5").click(selectfct5);





    function cal(){

        if($(".my-activity").is(":checked")) {
            var totald = +$("#raniad").val() || 0;

        }
        else{
            var totald =0;
        }
        if($(".region").is(":checked")) {

            var total = +$("#rania").val() || 0;
        }
        else{
            var total = 0;
        }

        /* if($(".profession").is(":checked")) {
         var totalp = +$("#prix").val() || 0;
         }
         else{
         var totalp = 0;
         }
         */



        var vat = +$("#mari").val() || 0;
        var vard = +$("#rubd").val() || 0;
        var final = +$("#resulta").val() || 0;
        var prixp = +$("#prix").val() || 0;


        console.log(totald) ;
        /*   alert(vat);
         alert(total);
         alert(vard);*/

        if($(".my-activitys").is(":checked") == true ){
            //do something

            console.log('profesion test prix',prixp);
            if($(".region").is(":checked")) {
                var t1=(vat+ total+vard+final).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                $("#final_total").val(t1);
            }
            else{

                var t1=(vat+vard+final+totald+prixp).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                console.log('rrrrrrrrrrrrr',t1);
                $("#final_total").val(t1);
                /* prof();*/
            }

        }
        else if($(".region").is(":checked") == true){
            //do something


            if($(".region").is(":checked")) {
                console.log('rrrrrrr',prixp);

                var t1=(vat+ total+vard+final+prixp).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                $("#final_total").val(t1 );

            }
            else{
                var t1=(vat+vard+final+totald).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                $("#final_total").val(t1 );
                prof();
            }
        }
        else if($(".profession").is(":checked") === true){
            //do something
            console.log('testtttttttttt',vat+vard+final)
            if($(".profession").is(":checked")  ) {
                var t1=(vat+vard+final+prixp).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                $("#final_total").val(t1 );
            }
            else{
                var t1=(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                $("#fayssal").val(t1 );
            }
        }
        else{

            $("#rania").val(0);
            $("#raniad").val(0);
            $("#fayssal").val(0);
        }



    }



    function kas(){

//        cal();

        $('.loaders').css('display', '');
        var fayssal = parseInt($("#fayssal").val() ) ;
//        var fayssal = fayssal1.replace(/[^0-9\.]/g, '');

        form = $('#jsForm ');
        var data_send = {'nbr': fayssal};
        $.ajax({
            url: '{{ path('referencement_commande_devis_ref') }}',
            type: 'POST',
            data: data_send,
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;


                    console.log(successMessage);
                    /*  $('#prestation').children("option").remove();*/
                    //on vide les champs formulaires ou on le supprime ou ...
                    //on retire le loader...

                    $('.loaders').css('display', 'none');

//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                },
                //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');

                }
            }
        });
        sendajax();
    }

    function sendajax(){


        $('.loaders').css('display','');
        form =$('#jsForm ');
        console.log(form.serialize());

        $.ajax({
            url: '{{ path('referencement_commande_ajax_send') }}',
            type: 'POST',
            data: form.serialize(),
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;

                    /*  $('#prestation').children("option").remove();*/
                    //on vide les champs formulaires ou on le supprime ou ...
                    //on retire le loader...
                    $('.loaders').css('display','none');

                },
                //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');
                }
            }
        });


    }




    /*
     $("#num1").on("keydown keyup change load  ", function() {
     var num1 = $("#num1").val();
     document.getElementById('nbr_rubrique').value = num1;
     if (num1 == 0) {
     $("#rubrique").show();
     $("#select_rub_prest").hide();
     $("#select_rub_prest1").hide();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();
     $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

     }
     else
     if(num1==1)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").hide();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();

     $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==2)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").hide();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();


     $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==3)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").hide();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();



     $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==4)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").hide();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();

     $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
     }
     else
     if(num1==5)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").hide();
     $("#select_rub_prest6").hide();
     $('.r5,.r6,.prest6,.prest7').prop('checked', false);


     }
     else
     if(num1==6)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").show();
     $("#select_rub_prest6").hide();
     $('.r6,.prest7').prop('checked', false);
     }
     else
     if(num1==7)
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     $("#select_rub_prest2").show();
     $("#select_rub_prest3").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest4").show();
     $("#select_rub_prest5").show();
     $("#select_rub_prest6").show();
     }
     $('.loaders').css('display','');
     var nbr_rub =$('input[name=num1]').val();
     /!*alert(nbr_rub)*!/
     var data_send  = {'nbr_rub':nbr_rub};
     $.ajax({
     url: '{{ path('referencement_commande_devis_des_rub_nbr_rub') }}',
     type: 'POST',
     data: data_send,
     statusCode: {
     //traitement en cas de succès
     200: function (response) {
     var successMessage = response;

     console.log(successMessage);
     /!*  $('#prestation').children("option").remove();*!/
     //on vide les champs formulaires ou on le supprime ou ...
     //on retire le loader...
     //window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";

     $('.loaders').css('display','none');
     },
     //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
     412: function (response) {
     var errorsForm = response.responseJSON.formErrors;
     //on affiche les erreurs...
     alert('error');
     }
     }
     });
     /!*else
     {
     $("#rubrique").show();
     $("#select_rub_prest").show();
     $("#select_rub_prest1").show();
     }*!/

     $('#prestaAjax').css('display','');

     /!*     if($('.region').is(':checked')){
     Reg();
     $('#prestaAjax').css('display','none');
     }
     else if('.my-activitys') {
     rub();
     $('#prestaAjax').css('display','none');
     }
     else{
     $('input[id=rubd]').val(0);
     }*!/

     var num1 = document.getElementById('num1').value;
     var result = parseInt(num1) * 3;
     document.getElementById('sum').value = result;
     cal();
     kas();

     });
     */



    function rub() {
        var num1 = document.getElementById('num1').value;
        if (num1 >=2) {
            var ctar = 'RV';
            console.log("CHANGE rubrique AND prestation sssss ....................");
            var select = jQuery(this);
            var rub = $('input[name=num1]').val();
            var rubdes = $('option[name=r_count]:selected').val();

            var v = $('input[name=villes]:checked').val();
            var o = $('input[class=my-activity]:checked').val();
            $('#prestaAjax').show();
            console.log('ville : ', v, 'opt1 :', o, 'rubrique: ',rub, 'rubrique description: ',rubdes );
            var data_send = {'ville': v, 'opt1': o, 'region': v, 'ctar': ctar};
            $.ajax({
                url: '{{ path('ajaxRef') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response.nom.VAR;
                        var rubrique = (rub - 1) * successMessage;
                        console.log(rubrique);
                        $('input[id=rubd]').val(rubrique);

                        $('#prestaAjax').hide();
                        kas();
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');
                        $('#prestaAjax').hide();
                    }
                }
            });
        }
        else{
            $('input[id=rubd]').val(0);
        }
    }
    function Reg() {
        var num1 = document.getElementById('num1').value;
        if (num1 >=2) {
            var ctar = 'RL';
            console.log("CHANGE rubrique AND prestation sssss .reg...................");
            var select = jQuery(this);
            var rub = $('input[name=num1]').val();

            var v = $('input[name=regions]:checked').val();
            var o = $('input[class=region]:checked').val();

            console.log('ville : ', v, 'opt1 :', o, 'rubrique: ',rub);
            var data_send = {'ville': v, 'opt1': o, 'region': v, 'ctar': ctar};
            $.ajax({
                url: '{{ path('ajaxRef') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response.nom.VAR;
                        var rubrique = (rub - 1) * successMessage;
                        console.log(rubrique);
                        $('input[id=rubd]').val(rubrique);
                        cal();
                        kas();
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');
                    }
                }
            });
        }
        else{
            $('input[id=rubd]').val(0);
        }
    }



    $("#num3").on("keydown keyup change load", function() {



        var marq = $("#num3").val();
        var marque =marq/3;
        var marque = -Math.abs(marque);
        var marque =Math.floor(marque);
        var marque = Math.abs(marque);
        var num3 = document.getElementById('num3').value;
        var result3 = Math.ceil(parseInt(num3)/3)  * 1500;
        document.getElementById("mari").value = result3;
        document.getElementById("marque_pack").value = marque;

        if (marq == 0) {
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p1,.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq","marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque","marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==1){
            $(".marques,.m").show();$(".m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g").show();$("#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;

        }
        else
        if(marq==2){
            $(".marques,.m,.m1").show();$(".m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1").show();$("#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==3){
            $(".marques,.m,.m1,.m2").show();$(".m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2").show();$("#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==4){
            $(".marques,.m,.m1,.m2,.m3").show();$(".m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3").show();$("#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==5){
            $(".marques,.m,.m1,.m2,.m3,.m4").show();$(".m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4").show();$("#g5,#g6,#g7,#g8,#g9").hide();
            $('.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==6){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5").show();$(".m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5").show();$("#g6,#g7,#g8,#g9").hide();
            $('.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque6","marque7","marque8","marque9").value = null;
        }
        else
        if (marq==7) {
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6").show();$(".m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6").show();$("#g7,#g8,#g9").hide();
            $('.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq7","marq8","marq9").value = null;
            document.getElementById("marque7","marque8","marque9").value = null;
        }
        else
        if(marq==8){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8").show();$(".m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7").show();$("#g8,#g9").hide();
            $('.p9,.p10').prop('checked', false);
            document.getElementById("marq8","marq9").value = null;
            document.getElementById("marque8","marque9").value = null;
        }
        else
        if(marq==9){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8").show();$(".m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8").show();$("#g9").hide();
            $('.p10').prop('checked', false);
            document.getElementById("marq9").value = null;
            document.getElementById("marque9").value = null;
        }
        else
        if(marq==10){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8,.m9").show();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").show();
        }
        calculate_rubrique_total();

        kas();
    });



    $(window,"#num3").on("load", function() {

        var marq = $("#num3").val();
        var marque =marq/3;
        var marque = -Math.abs(marque);
        var marque =Math.floor(marque);
        var marque = Math.abs(marque);
        var num3 = document.getElementById('num3').value;
        var result3 = Math.ceil(parseInt(num3)/3)  * 1500;
        document.getElementById("mari").value = result3;
        document.getElementById("marque_pack").value = marque;

        if (marq == 0) {
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p1,.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq","marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque","marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==1){
            $(".marques,.m").show();$(".m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g").show();$("#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;

        }
        else
        if(marq==2){
            $(".marques,.m,.m1").show();$(".m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1").show();$("#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==3){
            $(".marques,.m,.m1,.m2").show();$(".m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2").show();$("#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==4){
            $(".marques,.m,.m1,.m2,.m3").show();$(".m4,.m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3").show();$("#g4,#g5,#g6,#g7,#g8,#g9").hide();
            $('.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq4","marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque4","marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==5){
            $(".marques,.m,.m1,.m2,.m3,.m4").show();$(".m5,.m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4").show();$("#g5,#g6,#g7,#g8,#g9").hide();
            $('.p6,.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq5","marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque5","marque6","marque7","marque8","marque9").value = null;
        }
        else
        if(marq==6){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5").show();$(".m6,.m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5").show();$("#g6,#g7,#g8,#g9").hide();
            $('.p7,.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq6","marq7","marq8","marq9").value = null;
            document.getElementById("marque6","marque7","marque8","marque9").value = null;
        }
        else
        if (marq==7) {
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6").show();$(".m7,.m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6").show();$("#g7,#g8,#g9").hide();
            $('.p8,.p9,.p10').prop('checked', false);
            document.getElementById("marq7","marq8","marq9").value = null;
            document.getElementById("marque7","marque8","marque9").value = null;
        }
        else
        if(marq==8){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8").show();$(".m8,.m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7").show();$("#g8,#g9").hide();
            $('.p9,.p10').prop('checked', false);
            document.getElementById("marq8","marq9").value = null;
            document.getElementById("marque8","marque9").value = null;
        }
        else
        if(marq==9){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8").show();$(".m9").hide();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8").show();$("#g9").hide();
            $('.p10').prop('checked', false);
            document.getElementById("marq9").value = null;
            document.getElementById("marque9").value = null;
        }
        else
        if(marq==10){
            $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8,.m9").show();
            $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").show();
        }
    });


    $(window).on('load  ', function () {


        if(($(".r").is(":checked"))) {

            var labels = $('#myTable :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#rubrique_view").html(labels);
            $("#select_rub").hide();
            $("#rubrique_view").show();



            var current = 	$('input[name=check]:checked');
            var rubrique = $('input[name=check]:checked').val();


            /**/
            /*$("input[value='aménagement de bungalows'][name='prest']").attr("checked",true)*/

            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false"><span id="select_prest">Listing des prestations et produits liés</span><span id="prest_view"></span> <span class="caret"></span></button> <ul  id="div" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest1" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest1"  type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));

                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {

                            $(document).keypress('.input' + addvb + '', function (event) {

                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {

                                    var text = $('.input' + addvb + '').val();dropdown
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest1" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);

                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);

                                }

                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));

                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class=" prest controle-checkbox add_test prest1 " value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');
        }
        else
        {
            if ($('.r').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#rubrique_view").html(null);
                $("#rubrique_view").hide();
                $("#select_rub").show();



            }
        }

        setTimeout( function(){
            prest1();
        }  , 2000 );

    });


    $(window).on('load  ', function () {
        if(($(".r1").is(":checked"))) {

            var labels = $('#myTable1 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#rubrique1_view").html(labels);
            $("#select_rub1").hide();
            $("#rubrique1_view").show();

            var current = 	$('input[name=check1]:checked');
            var rubrique = $('input[name=check1]:checked').val();

            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div1" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest2" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest2"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {
                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest2" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox add_test prest2 " value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');
        }
        else
        {
            if ($('.r1').prop('checked', false)) {
                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div1').css('display', 'none');
                $("#rubrique1_view").html(null);
                $("#rubrique1_view").hide();
                $("#select_rub1").show();

            }
        }
        setTimeout( function(){
            prest2();
        }  , 2000 );
    });

    $(window).on('load  ', function () {
        if(($(".r2").is(":checked"))) {

            var labels = $('#myTable2 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();
            $("#rubrique2_view").html(labels);
            $("#select_rub2").hide();
            $("#rubrique2_view").show();

            var current = 	$('input[name=check2]:checked');
            var rubrique = $('input[name=check2]:checked').val();
            var b = $(current).attr('name');

            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div2" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest3" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest3"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {
                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest3" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest3 " value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest " placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');
        }
        else
        {
            if ($('.r2').prop('checked', false)) {
                $('#div2').css('display', 'none');
                $('#div2').css('display', 'none');
                $("#rubrique2_view").html(null);
                $("#rubrique2_view").hide();
                $("#select_rub2").show();

            }
        }
        setTimeout( function(){
            prest3();
        }  , 2000 );
    });

    $(window).on('load  ', function () {
        if(($(".r3").is(":checked"))) {

            var labels = $('#myTable3 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();
            $("#rubrique3_view").html(labels);
            $("#select_rub3").hide();
            $("#rubrique3_view").show();

            var current = 	$('input[name=check3]:checked');
            var rubrique = $('input[name=check3]:checked').val();
            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div3" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest4" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest4"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {
                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest4" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest4" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest " placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');
        }
        else
        {
            if ($('.r3').prop('checked', false)) {
                $('#div3').css('display', 'none');
                $("#rubrique3_view").html(null);
                $("#rubrique3_view").hide();
                $("#select_rub3").show();

            }
        }
        setTimeout( function(){
            prest4();
        }  , 2000 );
    });
    $(window).on('load  ', function () {

        if(($(".r4").is(":checked"))) {

            var labels = $('#myTable4 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();
            $("#rubrique4_view").html(labels);
            $("#select_rub4").hide();
            $("#rubrique4_view").show();

            var current = $('input[name=check4]:checked');
            var rubrique = $('input[name=check4]:checked').val();
            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div4" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest5" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest5"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {
                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest5" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest5" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest " placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');
        }
        else
        {
            if ($('.r4').prop('checked', false)) {
                $('#div4').css('display', 'none');
                $("#rubrique4_view").html(null);
                $("#rubrique4_view").hide();
                $("#select_rub4").show();

            }
        }
        setTimeout( function(){
            prest5();
        }  , 2000 );
    });

    $(window).on('load  ', function () {
        if(($(".r5").is(":checked"))) {

            var labels = $('#myTable5 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();
            $("#rubrique5_view").html(labels);
            $("#select_rub5").hide();
            $("#rubrique5_view").show();

            var current = $('input[name=check5]:checked');
            var rubrique = $('input[name=check5]:checked').val();
            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div5" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest6" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest6"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {
                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest6" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest6" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest " placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');
        }
        else
        {
            if ($('.r5').prop('checked', false)) {
                $('#div5').css('display', 'none');
                $("#rubrique5_view").html(null);
                $("#rubrique5_view").hide();
                $("#select_rub5").show();

            }
        }
        setTimeout( function(){
            prest6();
        }  , 2000 );
    });

    $(window).on('load  ', function () {
        if(($(".r6").is(":checked"))) {

            var labels = $('#myTable6 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();
            $("#rubrique6_view").html(labels);
            $("#select_rub6").hide();
            $("#rubrique6_view").show();

            var current = $('input[name=check6]:checked');
            var rubrique = $('input[name=check6]:checked').val();
            var b = $(current).attr('name');
            var res = b.substring(5, 6);
            var vb = 'prest' + res;
            var addvb = 'addprest' + res;
            $('#prestaAjax').css('display', '');
            var data_send = {'rubrique': rubrique};
            $.ajax({
                url: '{{ path('ajax') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                        $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div6" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                        $.each(JSON.parse(successMessage), function (i, pres) {
                            if (vb) {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest7" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                            }
                            else {
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest7"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        });
                        if (addvb) {
                            $(document).keypress('.input' + addvb + '', function (event) {
                                var length_input = $('input.input' + addvb + '').val();
                                if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                    var text = $('.input' + addvb + '').val();
                                    $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest7" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $('.input' + addvb + '').val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                        }
                        else {
                            $(document).keypress('.input', function (e) {
                                var dInput = $('input.input').val();
                                if (e.which == 13 && $('input.input').val() != "") {
                                    var text = $('.input').val();
                                    $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest7" value="' + text + '" checked/> ' + text + '</label><br />');
                                    $(".input").val(null);
                                    $('#prestaAjax').css('display', 'none');
                                    setTimeout(function() {
                                        $('.input' + addvb + '').closest('#dropdown').addClass("open");
                                    }, 100);
                                }
                            });
                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest " placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                        }
                        $('#prestaAjax').css('display', 'none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        alert('error');
                        $('#prestaAjax').css('display', 'none');
                    }
                }
            });
            $('.testpres').css('display','');
        }
        else
        {
            if ($('.r6').prop('checked', false)) {
                $('#div6').css('display', 'none');
                $("#rubrique6_view").html(null);
                $("#rubrique6_view").hide();
                $("#select_rub6").show();

            }
        }
        setTimeout( function(){
            prest7();
        }  , 2000 );
    });


    /*--------------------------------------------------------------------prest supp-----------------------------------------------------------------------*/
    $(document).keypress('.input', function (e) {

        var dInput = $('input.input').val();
        if (e.which == 13 && $('input.input').val() != "") {
            var text = $('.input').val();
            $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="prestsupp[]" class="prest controle-checkbox prest8" value="' + text + '" checked/> ' + text + '</label><br />');
            $(".input").val(null);
            $('#prestaAjax').css('display', 'none');
            setTimeout(function() {
                $(".inputprestupplm").closest('#dropdown').addClass("open");
            }, 100);
        }
    });

    function prest1(){
        {% for prest in desrubref['prest1'] %}
        {% if desrubref['prest1']  %} $("input[value='{{ prest}}'][name='prest[]']").prop('checked', true);{% endif %}
        $("#prest_view").html({{ prest }});
        {% endfor %}
    }
    function prest2(){
        {% for prest in desrubref['prest2'] %}
        {% if desrubref['prest2']  %} $("input[value='{{ prest }}'][name='prest1[]']").prop('checked', true);{% endif %}
        {% endfor %}
    }
    function prest3(){
        {% for prest in desrubref['prest3'] %}
        {% if desrubref['prest3']  %} $("input[value='{{ prest }}'][name='prest2[]']").prop('checked', true);{% endif %}
        {% endfor %}
    }
    function prest4(){
        {% for prest in desrubref['prest4'] %}
        {% if desrubref['prest4']  %} $("input[value='{{ prest }}'][name='prest3[]']").prop('checked', true);{% endif %}
        {% endfor %}
    }
    function prest5(){
        {% for prest in desrubref['prest5'] %}
        {% if desrubref['prest5']  %} $("input[value='{{ prest }}'][name='prest4[]']").prop('checked', true);{% endif %}
        {% endfor %}
    }
    function prest6(){
        {% for prest in desrubref['prest6'] %}
        {% if desrubref['prest6']  %} $("input[value='{{ prest }}'][name='prest5[]']").prop('checked', true);{% endif %}
        {% endfor %}
    }
    function prest7(){
        {% for prest in desrubref['prest7'] %}
        {% if desrubref['prest7']  %} $("input[value='{{ prest }}'][name='prest6[]']").prop('checked', true);{% endif %}
        {% endfor %}
    }




    $(window).load( function () {

        if(($(".ville_first_1").is(":checked"))) {



            var labels = $('#myTable_ville_1 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_1").html(labels);
            $("#select_ville_principe_1").hide();
            $("#ville_principe_view_1").show();}
        else{
            if ($('.ville_first_1').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view_1").html(null);
                $("#ville_principe_view_1").hide();
                $("#select_ville_principe_1").show();

            }
        }

    });



    $(window).load(function () {

        if(($(".ville_first_2").is(":checked"))) {



            var labels = $('#myTable_ville_2 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_2").html(labels);
            $("#select_ville_principe_2").hide();
            $("#ville_principe_view_2").show();}
        else{
            if ($('.ville_first_2').prop('checked', false)) {


                $('#div').css('display', 'none');
                $("#ville_principe_view_2").html(null);
                $("#ville_principe_view_2").hide();
                $("#select_ville_principe_2").show();

            }
        }

    });


    $(window).load(function () {

        if(($(".ville_first_3").is(":checked"))) {



            var labels = $('#myTable_ville_3 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_3").html(labels);
            $("#select_ville_principe_3").hide();
            $("#ville_principe_view_3").show();}
        else{
            if ($('.ville_first_3').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view_3").html(null);
                $("#ville_principe_view_3").hide();
                $("#select_ville_principe_3").show();

            }
        }

    });



    $(window).load( function () {

        if(($(".ville_first_4").is(":checked"))) {



            var labels = $('#myTable_ville_4 :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view_4").html(labels);
            $("#select_ville_principe_4").hide();
            $("#ville_principe_view_4").show();}
        else{
            if ($('.ville_first_4').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view_4").html(null);
                $("#ville_principe_view_4").hide();
                $("#select_ville_principe_4").show();

            }
        }

    });


    $(window).load( function () {

        if(($(".ville_first").is(":checked"))) {



            var labels = $('#myTable_ville :checked').map(function () {
                return $(this).closest('label').text();
            }).get();

            $("#ville_principe_view").html(labels);
            $("#select_ville_principe").hide();
            $("#ville_principe_view").show();}
        else{
            if ($('.ville_first').prop('checked', false)) {

                /*var current = 	(this);
                 $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                $('#div').css('display', 'none');
                $("#ville_principe_view").html(null);
                $("#ville_principe_view").hide();
                $("#select_ville_principe").show();

            }
        }

    });
    /*----------------------------------------profession léberale---------------------------------------------------*/

    $(document).on('change', '.checkbox_profession,.profession_ville', function () {

        $('.loaders').css('display','');
        var villes = $('input[name=villesp]:checked').val();
        var profession = $('input[name=profession]:checked').val();

        var total = 0;
        var t;
        $(".profession:checked").each(function() {
            total += parseInt($(this).val());
            t= total.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");

        });
        if (t == 0) {
            $('#prix').val(0);
        } else {
            $('#prix').val(total);
        }

        var prix = $('input[name=prix]').val();
        var data_send    = {'villes': villes,'profession':profession,'prix':prix};
        console.log(data_send);
        $.ajax({
            url: '{{ path('referencement_commande_profession') }}',
            type: 'POST',
            data: data_send,
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;
                    console.log(successMessage);

                    prof();
                    calculate_rubrique_total();
                    /*  cal();*/



                    /*  $('#prestation').children("option").remove();*/
                    //on vide les champs formulaires ou on le supprime ou ...
                    //on retire le loader...
//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    $('.loaders').css('display','none');

                },
                //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');

                }
            }
        });


    });


    function prof()
    {

        $('.loaders').css('display','');
        var prix=  $("#prix").val( );
        console.log("prix",prix);
        form =$('#jsForm ');
        var data_send = {'nbr': prix};
        $.ajax({
            url: '{{ path('referencement_commande_devis_prof') }}',
            type: 'POST',
            data: data_send,
            statusCode: {
                //traitement en cas de succès
                200: function (response){
                    var successMessage = response;
                    cal();
                    console.log(successMessage);
                    /*  $('#prestation').children("option").remove();*/
                    //on vide les champs formulaires ou on le supprime ou ...
                    //on retire le loader...

                    $('.loaders').css('display','none');

//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                },
                //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');

                }
            }
        });
    }

    $('#ajax_test_profession').on('click', function (event) {

        event.preventDefault();


        prof();
    });

    $('.checkbox_villes').on('change', function() {
        $('.checkbox_villes').not(this).prop('checked', false);
    });

    var selectfct = function () {
        if($(".profession_ville").is(":checked")){
            $('.profession').prop('disabled', false);
        }else{
            $('.profession').prop('disabled', 'disabled');
            $('.profession').prop('checked', false);
        }
    };
    $(selectfct);
    $(".profession_ville").click(selectfct);

    /*-------------------------------------------------------------------------------------------------------------------------------------------------*/


    $("input[name=package]").change(function(){

        if($("#package_non").is(':checked')){
            $("#no_package").show();
            $("#no_package2").show();
            $("#select_rub_prest_package").hide();

            $('input[id=final]').val(0);

        calculate_rubrique_total();
        }else if($("#package_yes").is(':checked')){
            $("#no_package").hide();
            $("#no_package2").hide();
            $("#select_rub_prest_package").show();
        }
    });


</script>
